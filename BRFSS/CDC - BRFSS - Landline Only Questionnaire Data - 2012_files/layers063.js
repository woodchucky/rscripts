(function(e,c,f,i){var h,a;var g={};g.qwery=function(){var b=function(){var n=document,M=n.documentElement,Z="getElementsByClassName",B="getElementsByTagName",m="querySelectorAll",N="useNativeQSA",x="tagName",W="nodeType",ai,V=/#([\w\-]+)/,w=/\.[\w\-]+/g,ap=/^#([\w\-]+)$/,al=/^\.([\w\-]+)$/,A=/^([\w\-]+)$/,ad=/^([\w]+)?\.([\w\-]+)$/,R=/(^|,)\s*[>~+]/,X=/^\s+|\s*([,\s\+\~>]|$)\s*/g,aq=/[\s\>\+\~]/,I=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,an=/([.*+?\^=!:${}()|\[\]\/\\])/g,j=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,y=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,D=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,C=new RegExp(ap.source+"|"+A.source+"|"+al.source),t=new RegExp("("+aq.source+")"+I.source,"g"),am=new RegExp(aq.source+I.source),H=new RegExp(j.source+"("+y.source+")?("+D.source+")?");var S={" ":function(q){return q&&q!==M&&q.parentNode;},">":function(q,ar){return q&&q.parentNode==ar.parentNode&&q.parentNode;},"~":function(q){return q&&q.previousSibling;},"+":function(q,at,au,ar){if(!q){return false;}return(au=aa(q))&&(ar=aa(at))&&au==ar&&au;}};function v(){this.c={};}v.prototype={g:function(q){return this.c[q]||i;},s:function(ar,q,at){q=at?new RegExp(q):q;return this.c[ar]=q;}};var af=new v(),E=new v(),K=new v(),ag=new v();function T(q){return af.g(q)||af.s(q,"(^|\\s+)"+q+"(\\s+|$)",1);}function aj(ar,au){var at=0,q=ar.length;for(;at<q;at++){au(ar[at]);}}function G(at){for(var av=[],au=0,q=at.length;au<q;++au){L(at[au])?av=av.concat(at[au]):av[av.length]=at[au];}return av;}function l(at){var au=0,q=at.length,av=[];for(;au<q;au++){av[au]=at[au];}return av;}function aa(q){while(q=q.previousSibling){if(q[W]==1){break;}}return q;}function ae(q){return q.match(H);}function p(aC,aG,au,az,at,aA,aE,aF,aD,aB,q){var ay,av,ax,ar,aw;if(this[W]!==1){return false;}if(aG&&aG!=="*"&&this[x]&&this[x].toLowerCase()!==aG){return false;}if(au&&(av=au.match(V))&&av[1]!==this.id){return false;}if(au&&(aw=au.match(w))){for(ay=aw.length;ay--;){if(!T(aw[ay].slice(1)).test(this.className)){return false;}}}if(aD&&ab.pseudos[aD]&&!ab.pseudos[aD](this,q)){return false;}if(az&&!aE){ar=this.attributes;for(ax in ar){if(Object.prototype.hasOwnProperty.call(ar,ax)&&(ar[ax].name||ax)==at){return this;}}}if(az&&!Q(aA,ah(this,at)||"",aE)){return false;}return this;}function Y(q){return E.g(q)||E.s(q,q.replace(an,"\\$1"));}function Q(q,at,ar){switch(q){case"=":return at==ar;case"^=":return at.match(K.g("^="+ar)||K.s("^="+ar,"^"+Y(ar),1));case"$=":return at.match(K.g("$="+ar)||K.s("$="+ar,Y(ar)+"$",1));case"*=":return at.match(K.g(ar)||K.s(ar,Y(ar),1));case"~=":return at.match(K.g("~="+ar)||K.s("~="+ar,"(?:^|\\s+)"+Y(ar)+"(?:\\s+|$)",1));case"|=":return at.match(K.g("|="+ar)||K.s("|="+ar,"^"+Y(ar)+"(-|$)",1));}return 0;}function ac(aw,az){var q=[],aA=[],ay,av,at,au,aF,ax,ar,aE,aD=az,aC=ag.g(aw)||ag.s(aw,aw.split(am)),aB=aw.match(t);if(!aC.length){return q;}au=(aC=aC.slice(0)).pop();if(aC.length&&(at=aC[aC.length-1].match(ap))){aD=z(az,at[1]);}if(!aD){return q;}ar=ae(au);ax=aD!==az&&aD[W]!==9&&aB&&/^[+~]$/.test(aB[aB.length-1])?function(aG){while(aD=aD.nextSibling){aD[W]==1&&(ar[1]?ar[1]==aD[x].toLowerCase():1)&&(aG[aG.length]=aD);}return aG;}([]):aD[B](ar[1]||"*");for(ay=0,av=ax.length;ay<av;ay++){if(aE=p.apply(ax[ay],ar)){q[q.length]=aE;}}if(!aC.length){return q;}aj(q,function(aG){if(P(aG,aC,aB)){aA[aA.length]=aG;}});return aA;}function J(au,q,ar){if(s(q)){return au==q;}if(L(q)){return!!~G(q).indexOf(au);}var at=q.split(","),aw,av;while(q=at.pop()){aw=ag.g(q)||ag.s(q,q.split(am));av=q.match(t);aw=aw.slice(0);if(p.apply(au,ae(aw.pop()))&&(!aw.length||P(au,aw,av,ar))){return true;}}return false;}function P(at,aw,av,q){var au;function ar(az,ax,ay){while(ay=S[av[ax]](ay,az)){if(s(ay)&&p.apply(ay,ae(aw[ax]))){if(ax){if(au=ar(ay,ax-1,ay)){return au;}}else{return ay;}}}}return(au=ar(at,aw.length-1,at))&&(!q||ao(au,q));}function s(ar,q){return ar&&typeof ar==="object"&&(q=ar[W])&&(q==1||q==9);}function ak(at){var q=[],av,au;o:for(av=0;av<at.length;++av){for(au=0;au<q.length;++au){if(q[au]==at[av]){continue o;}}q[q.length]=at[av];}return q;}function L(q){return typeof q==="object"&&isFinite(q.length);}function d(q){if(!q){return n;}if(typeof q=="string"){return ab(q)[0];}if(!q[W]&&L(q)){return q[0];}return q;}function z(q,at,ar){return q[W]===9?q.getElementById(at):q.ownerDocument&&((ar=q.ownerDocument.getElementById(at))&&ao(ar,q)&&ar||!ao(q,q.ownerDocument)&&ai("[id=\""+at+"\"]",q)[0]);}function ab(ar,av){var q,au,at=d(av);if(!at||!ar){return[];}if(ar===window||s(ar)){return!av||ar!==window&&s(at)&&ao(ar,at)?[ar]:[];}if(ar&&L(ar)){return G(ar);}if(q=ar.match(C)){if(q[1]){return(au=z(at,q[1]))?[au]:[];}if(q[2]){return l(at[B](q[2]));}if(O&&q[3]){return l(at[Z](q[3]));}}return ai(ar,at);}function k(q,ar){return function(at){var au,av;if(R.test(at)){if(q[W]!==9){if(!(av=au=q.getAttribute("id"))){q.setAttribute("id",av="__qwerymeupscotty");}at="[id=\""+av+"\"]"+at;ar(q.parentNode||q,at,true);au||q.removeAttribute("id");}return;}at.length&&ar(q,at,false);};}var ao="compareDocumentPosition"in M?function(ar,q){return(q.compareDocumentPosition(ar)&16)==16;}:"contains"in M?function(ar,q){q=q[W]===9||q==window?M:q;return q!==ar&&q.contains(ar);}:function(ar,q){while(ar=ar.parentNode){if(ar===q){return 1;}}return 0;},ah=function(){var q=n.createElement("p");return(q.innerHTML="<a href=\"#x\">x</a>")&&q.firstChild.getAttribute("href")!="#x"?function(at,ar){return ar==="class"?at.className:ar==="href"||ar==="src"?at.getAttribute(ar,2):at.getAttribute(ar);}:function(at,ar){return at.getAttribute(ar);};}(),O=!!n[Z],r=n.querySelector&&n[m],U=function(ar,at){var q=[],av,aw;try{if(at[W]===9||!R.test(ar)){return l(at[m](ar));}aj(av=ar.split(","),k(at,function(ax,ay){aw=ax[m](ay);if(aw.length==1){q[q.length]=aw.item(0);}else{if(aw.length){q=q.concat(l(aw));}}}));return av.length>1&&q.length>1?ak(q):q;}catch(au){}return u(ar,at);},u=function(au,ax){var az=[],aw,ar,av,at,q,ay;au=au.replace(X,"$1");if(ar=au.match(ad)){q=T(ar[2]);aw=ax[B](ar[1]||"*");for(av=0,at=aw.length;av<at;av++){if(q.test(aw[av].className)){az[az.length]=aw[av];}}return az;}aj(ay=au.split(","),k(ax,function(aA,aB,aC){q=ac(aB,aA);for(av=0,at=q.length;av<at;av++){if(aA[W]===9||aC||ao(q[av],ax)){az[az.length]=q[av];}}}));return ay.length>1&&az.length>1?ak(az):az;},F=function(q){if(typeof q[N]!=="undefined"){ai=!q[N]?u:r?U:u;}};F({useNativeQSA:true});ab.configure=F;ab.uniq=ak;ab.is=J;ab.pseudos={};return ab;}();return b;}();g.rAF=function(){var j,b,k,p,q,d,s,m,r,n,l;b="native";k=Date.now||function(){return new Date().getTime();};q=window.requestAnimationFrame;n=["webkit","moz","o","ms"];for(m=0,r=n.length;m<r;m++){s=n[m];if(!(q!=null)){q=window[s+"RequestAnimationFrame"];}}if(!(q!=null)){b="timer";j=0;p=d=null;q=function(w){var t,u,v;if(p!=null){p.push(w);return;}v=k();u=Math.max(0,16.66-(v-j));p=[w];j=v+u;t=function(){var x,A,z,y;A=p;p=null;for(z=0,y=A.length;z<y;z++){x=A[z];x(j);}};d=setTimeout(t,u);};}q(function(u){var t;if(((t=window.performance)!=null?t.now:void 0)!=null&&u<1000000000000){q.now=function(){return window.performance.now();};q.method="native-highres";}else{q.now=k;}});q.now=((l=window.performance)!=null?l.now:void 0)!=null?function(){return window.performance.now();}:k;q.method=b;return q;}();g.emdot=function(){var q="html,head,title,base,link,meta,style,script,noscript,template,body,section,nav,article,aside,h1,h2,h3,h4,h5,h6,header,footer,address,main,p,hr,pre,blockquote,ol,ul,li,dl,dt,dd,figure,figcaption,div,a,em,strong,small,s,cite,q,dfn,abbr,data,time,code,var,samp,kbd,sub,sup,i,b,u,mark,ruby,rt,rp,bdi,bdo,span,br,wbr,ins,del,img,iframe,embed,object,param,video,audio,source,track,canvas,map,area,svg,table,caption,colgroup,col,tbody,thead,tfoot,tr,td,th,form,fieldset,legend,label,input,button,select,datalist,optgroup,option,textarea,keygen,output,progress,meter,details,summary,menuitem,menu".split(","),d="value,name,id,href,src,title,alt,target,type,role".split(","),m=n.prototype;function n(s){if(s&&s.nodeType!==1){throw new Error("Cannot wrap non-element in Emdot");}this.element=s;if(!this.element.style){this.element.style={};}}m.style=function(v){if(v){var x=v.split(";");for(var u=0,s=x.length;u<s;u++){var y=x[u].split(":"),t=y[0].replace(/\s+/g,""),w=y[1];if(t){y[1].replace(/\s+/g,"");this.element.style[t]=w;}else{throw new Error("Malformed style string");}}}return this;};m.css=function(){if(arguments.length){var s=Array.prototype.slice.call(arguments,0);this.element.className=s.join(" ");}return this;};m.data=function(s,t){if(t===null||t===""){this.element.removeAttribute("data-"+s,t);}else{if(s){this.element.setAttribute("data-"+s,t);}}return this;};m.attr=function(s,t){if(t===null||t===""){this.element.removeAttribute(s,t);}else{if(s){this.element.setAttribute(s,t);}}return this;};m.aria=function(s,t){return this.attr("aria-"+s,t);};function b(s){return function(u){try{return this.attr(s,u);}catch(t){this.element[s]=u;return this;}};}function j(s){return function(){var u=Array.prototype.slice.call(arguments,0),w,t,v;w=document.createElement(s);for(v=0;v<u.length;v++){t=u[v];p(w,t);}return new n(w);};}function p(u,s){if(s===null){return;}else{if(s===i){u.appendChild(document.createTextNode(""));}else{if(s.constructor===String||s.constructor===Number){u.appendChild(document.createTextNode(s));}else{if(s&&s.nodeType===1){u.appendChild(s);}else{if(s instanceof n){u.appendChild(s.element);}else{if(s instanceof Array){for(var t=0;t<s.length;t++){if(s[t]instanceof n){u.appendChild(s[t].element);}else{u.appendChild(s[t]);}}}else{if(s){throw new Error("Could not turn truthy argument into element");}else{return false;}}}}}}}return true;}emdot=function(w,v,t){var s=[],t=t||this,u;for(u=0,len=w.length;u<len;u++){s[s.length]=v.call(t,w[u],u,w);}return s;};for(k=q.length-1;k>=0;k--){var r=q[k];emdot[r]=j(r);}for(var k=d.length-1;k>=0;k--){var l=d[k];m[l]=b(l);}return emdot;}();g.utils=function(b,m,k){var l={KEYCODES:{"13":"enter","27":"esc"},emdot:k,cloneObject:function(p){var q={};for(var n in p){if(l.isPlainObject(p[n])&&p[n]!==i){q[n]=l.isElement(p[n])?p[n]:l.cloneObject(p[n]);}else{q[n]=p[n];}}return q;},isEmptyObject:function(n){var p;for(p in n){if(n.hasOwnProperty(p)){return false;}}return true;},extend:f.extend,isPlainObject:function(n){if(!n){return false;}return Object.prototype.toString.call(n)==="[object Object]";},isArray:function(n){if(!n){return false;}if("isArray"in Array){return Array.isArray(n);}else{return Object.prototype.toString.call(n)==="[object Array]";}},isFunction:function(n){if(!n){return false;}return Object.prototype.toString.call(n)==="[object Function]";},isString:function(n){return typeof n==="string"||Object.prototype.toString.call(n)==="[object String]";},isNumber:function(n){return typeof n==="number"||Object.prototype.toString.call(n)==="[object Number]";},isNumeric:function(n){return!isNaN(n);},isBoolean:function(n){return n===true||n===false||Object.prototype.toString.call(n)=="[object Boolean]";},isUndefined:function(n){return n===i;},isNull:function(n){return n===null;},isNaN:function(n){return l.isNumber(n)&&n!=+n;},isElement:function(n){return!l.isNull(n)&&!l.isUndefined(n)&&n.nodeType===1;},has:function(p,n){if(!l.isString(p)){return false;}return Boolean(p.indexOf(n)!==-1);},each:function(r,s,q){var p,n;q=q||this;if(l.isArray(r)){p=-1;n=r.length;while(++p<n){if(s.call(q,p,r[p])===false){break;}}}else{if(l.isPlainObject(r)){for(p in r){if(r.hasOwnProperty(p)){if(s.call(q,p,r[p])===false){break;}}}}}},match:function(w,t,u){var x=[],p,n,s,v,r=[],q=JSON.stringify(w);l.each(w,function(y,z){x.push(y);});p=u+"//"+x.join("/");n=l.match[p]||(l.match[p]={});if(!n.matches){s=n.matches||(n.matches=[]);v=n.values||(n.values=t);n.keys=x;l.each(t,function(z,A){var y={};l.each(x,function(C,B){y[B]=A[B];});s.push(y);});}l.each(n.matches,function(z,y){if(q===JSON.stringify(y)){r.push(n.values[z]);}});return r;},filter:function(p,v,r){var s=[],u,n;if(p.filter){return p.filter(v,r);}for(var t=0,q=p.length;t<q;t++){u=p[t];n=v.call(r||u,u,t,p);if(n){s[s.length]=u;}}return s;},map:function(n,u,r){var q=[],t;if(n.map){return n.map(u,r);}for(var s=0,p=n.length;s<p;s++){t=n[s];q[q.length]=u.call(r,t,s,n);}return q;},every:function(p,u,r){var t,n;if(p.every){return p.every(u,r);}for(var s=0,q=p.length;s<q;s++){t=p[s];n=u.call(r,t,s,p);if(!n){return false;}}return true;},some:function(p,u,r){var t,n;if(p.some){return p.some(u,r);}for(var s=0,q=p.length;s<q;s++){t=p[s];n=u.call(r,t,s,p);if(n){return true;}}return false;},toObject:function(n){var p={};l.each(n,function(r,q){if(q!==i){p[q]=true;}});return p;},toArray:function(p){var n=[];l.each(p,function(r,q){n.push(q);});return n;},keys:function(p){var q,n=0;if(Object.keys){return Object.keys(p).length;}else{l.each(p,function(){++n;});return n;}},queue:function(r,q,p){var s=this._q=this._q||{},n=this._q[r]=this._q[r]||[];n.push({item:q,context:p||this});return n;},dequeue:function(n){return this._q&&this._q[n]&&this._q[n].length&&this._q[n].shift();},bindEvents:function(s,u){var w=this,q=l.isElement(w.element)?w.element:false,v,r=0,n,p,t;l.each(s,function(y,x){r=y.lastIndexOf(" ");t=f.bind(x,w);if(r===-1){if(l.has(y,"addthis")){if(u!=="remove"){_ate.ed.addEventListener(y,t);}else{_ate.ed.removeEventListener(y,t);}}else{if(q){l.listenTo({elem:q,ev:y,callback:t,type:u,originalEv:y});}}}else{n=y.charAt(0)==="!"?y.substring(1,r):y.substring(0,r);p=y.substring(r+1);l.listenTo({layer:y.charAt(0)==="!"?false:q,elem:n,ev:p,callback:t,type:u,originalEv:y});}});},listenTo:function(s){var u,r=false,q=s.elem,p=s.layer,t=function(){var y=[];if(q==="window"||q==="w"){y.push(e);}else{if(q==="document"||q==="d"){y.push(h);}else{if(l.isString(q)){y=b(q);r=q;}else{y.push(q);}}}return y;}(),w=s.ev,x=s.callback,n=s.type!=="remove"?"addEventHandler":"removeEventHandler",v=s.originalEv;if((t||p)&&w&&x){if(p){l[n]({container:p,elem:t.length>0?t[0]:false,selector:r,ev:w,cb:x,originalEv:v});}else{if(l.isArray(t)){u=t.length;l.each(t,function(y){l[n]({elem:t[y],selector:r,ev:w,cb:x,originalEv:v});});}else{l[n]({elem:t,selector:r,ev:w,cb:x,originalEv:v});}}}},addEventHandler:function(s){var w=this,p=s.container,t=s.elem,r=s.selector,v=s.ev,x=function(z,A){s.cb(z||e.event,A||z.target||z.srcElement);},u=s.originalEv,n=function(D){D=D||e.event;var E=D.target||D.srcElement,H=false,G=false,I,z;if(r){I=r.split(" ");z=I.length>1?I.pop():r;}else{return;}var C=z.match(/^[^\.\#]+/g)||[];var B=z.match(/\.[^\.\#]+/g)||[];var F=z.match(/\#[^\.\#]+/g)||[];function A(J){matchesTag=l.every(C,function(L){var K=L.toUpperCase();return J.tagName==K;});matchesClass=l.every(B,function(K){var L=K.substr(1);return l.hasClass(L,J);});matchesId=l.every(F,function(L){var K=L.substr(1);return J.id===K;});return matchesId&&matchesTag&&matchesClass;}while(E&&E!==s.container){if(A(E)){return x(D,E);}else{E=E.parentNode;}}},y=p?n:x,q=p||t;if(v==="mouseenter"||v==="mouseleave"){if(!l.isMouseEventSupported(v)){if(v==="mouseenter"){v="mouseover";}else{v="mouseout";}y=l.fixMouseEvent(y);}}if(!q.__callbacks){q.__callbacks={};}q.__callbacks[u]=y;if(q.addEventListener){q.addEventListener(v,y,false);}else{if(q.attachEvent){q.attachEvent("on"+v,y);}else{q["on"+v]=y;}}},removeEventHandler:function(t){var r=this,n=t.container,p=t.elem,q=t.ev,v=t.cb,u,s=t.originalEv;u=n||p;u.__callbacks=u.__callbacks||{};v=u.__callbacks[s];this.removeEvent({elem:u,ev:q,cb:v});},removeEvent:function(r){var q=r.elem,p=r.ev,n=r.cb;if(q.removeEventListener){q.removeEventListener(p,n,false);}else{if(q.detachEvent){q.detachEvent("on"+p,n);}else{q["on"+p]=null;}}},isMouseEventSupported:function d(n){if(d.tested===true){return d.isSupported;}var q=h.createElement("div"),p;n="on"+n;p=n in q;if(!p){l.attr(q,n,"return;");p=l.isFunction(q[n]);}d.isSupported=p;d.tested=true;q=null;return p;},fixMouseEvent:function(n){return function(p){try{var r=p.relatedTarget;if(!r||r!==this&&!(this.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)){n.call(this,p);}}catch(q){}};},preventDefaultEvent:function(n){if(n.preventDefault){n.preventDefault();}else{n.returnValue=false;}},once:function(q){var n=false,p;return function(){if(n){return p;}n=true;p=q.apply(this,arguments);q=null;return p;};},debounce:function(q,t){var s,n,p,r;return function(){p=this;n=[].slice.call(arguments,0);r=new Date();var u=function(){var v=new Date()-r;if(v<t){s=setTimeout(u,t-v);}else{s=null;q.apply(p,n);}};if(!s){s=setTimeout(u,t);}};},triggerGesture:function(r,q,s,p){var n=document.createEvent("GestureEvent");n.initGestureEvent(q,true,true,e,2,0,0,0,0,false,false,false,false,r,s||1.5,p||0);r.dispatchEvent(n);},scrollPercentage:function(){var n=this.pageHeight(),p=l.scrollTop();return p/n;},scrollTop:function(n){n=n||h.documentElement||a;return n.scrollTop||a.scrollTop;},pageWidth:function(){return window.innerWidth||document.documentElement.clientWidth;},pageHeight:function(){return a.scrollHeight;},elementInViewport:function(p){if(l.isString(p)){p=b(p)[0];if(!l.isElement(p)){return false;}}var u=p.offsetTop,q=p.offsetLeft,n=p.offsetWidth,w=p.offsetHeight,s=e.pageYOffset?e.pageYOffset:h.documentElement.scrollTop,t=e.pageXOffset?e.pageXOffset:h.documentElement.scrollLeft,r=this.pageHeight(),v=this.pageWidth();while(p.offsetParent){p=p.offsetParent;u+=p.offsetTop;q+=p.offsetLeft;}return u<s+r&&q<t+v&&u+w>s&&q+n>t;},trim:function(n){return n.replace(/^\s+|\s+$/g,"");},desktop:function(){return!l.mobile();},browser:function(n){switch(n.toLowerCase()){case"firefox":return _ate.bro.ffx;case"internet explorer":return _ate.bro.msi;case"internetexplorer":return _ate.bro.msi;case"explorer":return _ate.bro.msi;case"ie":return _ate.bro.msi;case"safari":return _ate.bro.saf;case"chrome":return _ate.bro.chr;case"opera":return _ate.bro.opr;default:return false;}},mobile:function(){return _ate.bro.mob;},tablet:function(){var n=l.mobile(),r=n&&window.screen&&window.screen.availWidth?window.screen.availWidth:0,s=n&&window.screen&&window.screen.availHeight?window.screen.availHeight:0,p=n?r>s?s:r:false,q=p?p>800:false;return q;},phone:function(){var n=l.mobile(),r=n&&window.screen&&window.screen.availWidth?window.screen.availWidth:0,s=n&&window.screen&&window.screen.availHeight?window.screen.availHeight:0,p=n?r>s?s:r:false,q=p?p<=800:false;return q;},getCurrentDevice:function(u){var n=l.pageWidth(),p=u.options,t=(p||{}).responsive||{},r=(l.isString(t.minWidth)?!l.has(t.minWidth,"px")?+t.minWidth:+t.minWidth.replace("px",""):t.minWidth)||0,s=l.isString(t.maxWidth)?!l.has(t.maxWidth,"px")?+t.maxWidth:+t.maxWidth.replace("px",""):t.maxWidth,q="desktop";if(t===false||l.isUndefined(r)||l.isUndefined(s)||l.isIEQuirksMode()){q="desktop";}else{if(n>=r&&n<=s){q="mobile";}else{q="desktop";}}return q;},publicApi:function(n){var q,p={};l.each(n,function(s,r){if(s.charAt(0)!=="_"){p[s]=n[s];}});return p;},removeChildren:function(n){if(!n){return;}while(n.hasChildNodes()){n.removeChild(n.lastChild);}},supports:{csstransitions:function(){var p=a.style,q="transition",n=["Moz","Webkit","Khtml","O","ms"];if(l.supports.csstransitions.supports!==i){return l.supports.csstransitions.supports;}if(l.isString(p[q])){l.supports.csstransitions.supports=true;return true;}q=q.charAt(0).toUpperCase()+q.substr(1);l.each(n,function(r,s){if(l.isString(p[s+q])){l.supports.csstransitions.supports=true;return true;}});l.supports.csstransitions.supports=false;return false;},requestAnimationFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;}},addClass:function(n,p){if(!l.isElement(p)||!l.isString(n)){return;}if(!this.hasClass(n,p)){if(p.classList&&l.isString(n)&&n.length){p.classList.add(n);}else{if(p.className){p.className+=" "+n;}else{p.className=n;}}}},removeClass:function(n,p){if(!p||!p.className||!l.isElement(p)||!l.isString(n)){return;}var q=" "+p.className.replace(/[\t\r\n]/g," ")+" ";if(l.hasClass(n,p)){if(p.classList&&l.isString(n)&&n.length){p.classList.remove(n);}else{while(l.has(q," "+n+" ")){q=q.replace(" "+n+" "," ");}p.className=q.replace(/^\s+|\s+$/g,"");}}},hasClass:function(n,p){if(!l.isElement(p)||!l.isString(n)){return false;}if(p.classList&&l.isString(n)&&n.length){return p.classList.contains(n);}else{return p?new RegExp(" "+n+" ").test(" "+p.className+" "):false;}},hasjQuery:function(){return!!e.jQuery;},hasjQueryUI:function(){return l.hasjQuery()&&e.jQuery.ui;},isIEQuirksMode:function(){return _ate.bro.msi&&h.compatMode.toLowerCase()==="backcompat";},isVisible:function(n,p){if(!l.isElement(n)){return false;}return l.getCSSAttr(n,"display")!=="none"&&l.getCSSAttr(n,"visibility")!=="hidden"&&+l.getCSSAttr(n,"opacity",1)!==0&&!l.has(l.getCSSAttr(n,"filter","alpha(opacity=0)"));},getCSSAttr:function(r,n,p){if(!l.isElement(r)){return"";}var q=r.currentStyle||e.getComputedStyle(r,null)||{},s=function(){if(e.getComputedStyle){return q.getPropertyValue(n);}else{if(r.currentStyle){return q[n];}}}();return l.isUndefined(s)?p:s;},setCSSAttr:function(p,n,q){if(!l.isElement(p)){return;}if(l.isString(n)&&l.isString(q)){p.style[n]=q;}else{if(l.isPlainObject(n)){l.each(n,function(r,s){p.style[r]=s;});}}},hasAttr:function(p,n){if(!l.isElement(p)||l.isUndefined(n)){return;}if(!l.isUndefined(p.hasAttribute)){return p.hasAttribute(n);}else{return!l.isUndefined(p.attributes[n]);}},attr:function(q,n,p){if(!l.isElement(q)||l.isUndefined(n)){return;}if(l.isUndefined(p)){if(l.hasAttr(q,n)){return q.getAttribute(n);}}else{q.setAttribute(n,p);}},removeAttr:function(p,n){if(!l.isElement(p)||l.isUndefined(n)){return;}p.removeAttribute(n);},warn:function(n){if(console.warn){console.warn(n);}},randomize:function(n){var p=n.length,q;l.each(n,function(r,s){q=Math.floor(Math.random()*p);n[r]=n.splice(q,1,n[r])[0];});},fireCustomEvent:function(n,r,q,p){_ate.ed.fire(n,r,q,p);},safeActiveElement:function(){try{return h.activeElement;}catch(n){}},specialEvents:{blur:function(n){if(n===l.safeActiveElement()&&n.blur){n.blur();return false;}}},fireDOMEvent:function(p,q){var n;if(h.createEvent){n=h.createEvent("HTMLEvents");n.initEvent(q,true,true);return!p.dispatchEvent(n);}else{n=h.createEventObject();return p.fireEvent("on"+q,n);}},trigger:function(n,r,q,p){if(!l.isString(n)){return;}if(l.has(n,"addthis")){l.fireCustomEvent(n,r,q,p);}else{if(l.isElement(r)){l.fireDOMEvent(r,n);}}},objectToStyle:function(p){var n="";l.each(p,function(q,r){n+=q+": "+r+";";});return n;},serviceTemplate:function(r,n){var q=l.getTopService(n),p;if(q){p=l.getServiceName(q);if(l.isString(r)){r=r.replace(/\{\{service\}\}/,p);}}return r;},getServiceName:function(n){return n.substring(0,1).toUpperCase()+n.substring(1);},getTopService:function(n){var q=c.user.services()||[],p={google_plus:"google_plusone_share"};if(l.isUndefined(n)||n==="preferred"){if(q.length>0){n=q[0];}else{n={name:"facebook"};}return n.name;}else{if(n in p){return p[n];}else{return n;}}},openWindow:function(r){var p=r.url||"",s=r.new_window||true,n=r.focus||true,q;if(!p.length){return;}if(s){q=window.open(p,"_blank");}else{q=window.open(p);}if(n){q.focus();}},requestTimeout:function(r,q,p){if(!l.supports.requestAnimationFrame){return window.setTimeout(r,q);}var t=new Date().getTime(),s={};function n(){var u=new Date().getTime(),v=u-t;if(v>=q){if(!l.isUndefined(p)){r.call(r,p);}else{r.call(r);}}else{s.value=m(n);}}s.value=m(n);return s;},clearRequestTimeout:function(n){window.cancelAnimationFrame?window.cancelAnimationFrame(n.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(n.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(n.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(n.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(n.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(n.value):clearTimeout(n);},gradients:{cache:{},checkString:function(p){var n={black:"#000000",blue:"#0000ff",gray:"#808080",grey:"#808080",green:"#008000",orange:"#ffa500",purple:"#800080",red:"#ff0000",white:"#ffffff",yellow:"#ffff00"};p=p in n?n[p].substring(1):false;return p;},hex2num:function(n){if(n.length!==2){throw"err: use with 2-digit 16 bit numbers";}return parseInt(n,16);},num2Hex:function(n){var p=Math.floor(n).toString(16);if(p.length===1){p="0"+p;}return p;},mag:function(n){n=n||l.gradients.normalizeColor();return l.gradients.hex2num(n.substring(0,2))+l.gradients.hex2num(n.substring(2,4))+l.gradients.hex2num(n.substring(4,6));},normalizeColor:function(r){var q=l.gradients.checkString(r);r=q?q:r.replace("#","");if(!r||!l.gradients.isValid(r)){r="000000";}else{if(r.length===3){var p=r.substring(0,1),n=r.substring(1,2),s=r.substring(2,3);r=""+p+p+n+n+s+s;}}return r;},isValid:function(n){n=n.toLowerCase();if(n.substring(0,1)==="#"){n=n.substring(1);}if(/(^[0-9,a-f]{3}$)|(^[0-9,a-f]{6}$)/.test(n)){return true;}return l.gradients.checkString(n);},index:function(n){return n/255;},scaleUp:function(n){n=n>1?1:n;return n*255;},shadeOne:function(p,n){return l.gradients.num2Hex(l.gradients.scaleUp(l.gradients.index(l.gradients.hex2num(p))*n));},shade:function(p,n){n=n||l.gradients.normalizeColor();if(!p){p=l.gradients.distance;}if(!(""+n in l.gradients.cache)){l.gradients.cache[""+n]={};}if(!(""+p in l.gradients.cache[""+n])){l.gradients.cache[""+n][p]=""+l.gradients.shadeOne(n.substring(0,2),p)+l.gradients.shadeOne(n.substring(2,4),p)+l.gradients.shadeOne(n.substring(4,6),p);}return l.gradients.cache[n][p];},distance:0.2,cssString:function(n,u){if(_ate.bro.ie6||_ate.bro.ie7){return"";}n=l.gradients.normalizeColor(n);u=u||l.gradients.distance;if(l.gradients.mag(n)>700||l.gradients.mag(n)<100){u=0;}var t=l.gradients.shade(1-u,n),s=l.gradients.shade(1+2*u,n),q=l.gradients.shade(1+u,n),p=l.gradients.shade(1-0.1,n),r="background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0%, #"+t+"),color-stop(90%, #"+q+"));background-image: -ms-linear-gradient(bottom, #"+t+",#"+q+");background-image: -moz-linear-gradient(center bottom,#"+t+" 0%,#"+q+" 100%);border-color: #"+p;return r;}},validation:{patterns:{email:"^[a-zA-Z0-9._-]+@[a-zA-Z0-9][a-zA-Z0-9.-]*[.]{1}[a-zA-Z]{2,6}$"},validators:{pattern:function(p,n){return new RegExp(n,"gi").test(p)?true:false;},isEmail:function(n){return l.validation.validators.pattern(n,l.validation.patterns.email);}}},getUrl:function(p,n){var q={},r=document.createElement("iframe");r.src=p;q.element=r;h.getElementsByTagName("head")[0].appendChild(r);l.bindEvents.call(q,{load:function(){r.parentNode.removeChild(r);if(l.isFunction(n)){n();}}});},updateStyleSheet:function(q,r){var p=h.getElementsByTagName("head")[0],n=h.createElement("style");n.type="text/css";if(r){n.id=r;}if("styleSheet"in n){n.styleSheet.cssText=q;}else{n.appendChild(h.createTextNode(q));}p.appendChild(n);return n;},object2CSS:function(n,r){var q=""+n+"{";for(var p in r){q+=p+":"+r[p]+";";}q+="}\n";return q;},isCSSReady:function(r){var n=h.createElement("span"),p;n.id="addthissmartlayerscssready";n.style.color="#fff";h.body.appendChild(n);(function q(){var s=l.getCSSAttr(n,"color");if(s&&s==="rgb(186, 218, 85)"||s.toLowerCase()==="#bada55"){n.parentNode.removeChild(n);r();}else{setTimeout(q,250);}}());},removeElement:function(n){if(!l.isElement(n)||!l.isElement(n.parentNode)){return;}if(n.parentNode.__containsLayer__===true){n.parentNode.__containsLayer__=false;}n.parentNode.removeChild(n);},isImageBroken:function(n){if(!n){return true;}var p=n.naturalWidth;if(!p||l.isNumber(p)&&p<2){return true;}return false;},getScrollBarWidth:function j(){if(!l.isUndefined(j.width)){return j.width;}var n={},p,r=0;if(!l.isUndefined(l.getCSSAttr(a,"-ms-overflow-style"))&&_ate.bro.msi&&!_ate.bro.ie9&&!_ate.bro.ie8&&!_ate.bro.ie7&&!_ate.bro.ie6){if(l.getCSSAttr(a,"-ms-overflow-style")!=="none"){r=l.scrollBarWidth();}}else{if(e.getComputedStyle){r=l.scrollBarWidth();if(r===0){var q=document.createElement("style");q.innerHTML="::-webkit-scrollbar { width: 10px; }";h.getElementsByTagName("head")[0].appendChild(q);r=l.scrollBarWidth();if(r>0){r=r;}h.getElementsByTagName("head")[0].removeChild(q);}}}j.width=r;return r;},scrollBarWidth:function(){var p,r,s=h.createElement("div"),q=h.createElement("div"),n;l.setCSSAttr(s,{width:"100px",height:"10000px"});l.setCSSAttr(q,{width:"100%",height:"100px",overflow:"auto"});a.appendChild(q);p=q.clientWidth;q.appendChild(s);r=q.clientWidth;a.removeChild(q);n=p-r;return n;},stripHashFromPath:function(n){n=n.split("#")[0];if(n.slice(-1)==="/"){n=n.substring(0,n.length-1);}return n;},indexOf:function(p){var n=function(s){var r=-1,q=-1;for(r=0;r<this.length;r++){if(this[r]===s||decodeURIComponent(this[r])===decodeURIComponent(s)){q=r;break;}}return q;};return n.call(this,p);},shareCounters:{getShareCounts:function(s,t){if(l.isUndefined(s)){return;}var q=s.services||s.service||s,p=s.url||s.countUrl,n=p||(e.addthis_share||{}).trackurl||_ate.track.mgu({}.url||(e.addthis_share||{}).url,{clean:1,defrag:1}),r=[];if(l.isArray(q)){l.each(q,function(v,u){l.shareCounters.requests.getCounts({service:u,countUrl:n},function(w){r.push(w);if(r.length===q.length){t.call(this,r);}});});}else{if(l.isString(q)){l.shareCounters.requests.getCounts({service:q,countUrl:n},function(u){t.call(this,u);});}}return this;},requests:{services:{facebook:{cb:function(p){var q=p.params,n=p.data;if(n.data.length){p.callbackFunc({elem:q.elem,service:q.service,countUrl:q.countUrl,count:!l.isNumeric(n.data[0].total_count)?0:n.data[0].total_count,share:n.data[0]});}},ajs:function(n){var p=n.params,q=n.cbname;_ate.ajs(this.baseUrl+_euc(p.countUrl)+"\"&"+this.jsonpParam+"="+q,1);},baseUrl:"//graph.facebook.com/fql?q=SELECT url, normalized_url, share_count, like_count, comment_count, total_count,commentsbox_count, comments_fbid, click_count FROM link_stat WHERE url=\""},twitter:{baseUrl:"https://cdn.api.twitter.com/1/urls/count.json?url="},pinterest_share:{baseUrl:"//widgets.pinterest.com/v1/urls/count.json?url="},pinterest:{baseUrl:"//widgets.pinterest.com/v1/urls/count.json?url="},reddit:{cb:function(s){var u=s.params,r=s.data,n=0,q=0,t=0,p;if(r.data&&r.data.children){p=r.data.children;l.each(p,function(v,w){if(w.data&&!l.isUndefined(w.data.downs)&&!l.isUndefined(w.data.ups)){n+=w.data.ups;q+=w.data.downs;t+=w.data.score;}});s.callbackFunc({elem:u.elem,service:u.service,countUrl:u.countUrl,ups:+n,downs:+q,count:!l.isNumeric(+t)?0:+t});}},baseUrl:"//www.reddit.com/api/info.json?url=",jsonpParam:"jsonp"},delicious:{cb:function(p){var q=p.params,n=p.data;p.callbackFunc({elem:q.elem,service:q.service,countUrl:q.countUrl,count:n.length&&l.isNumeric(+n[0].total_posts)?+n[0].total_posts:0});},baseUrl:"//feeds.delicious.com/v2/json/urlinfo/data?url="},vk:{ajs:function(n){var p=n.params;if(!window.VK){window.VK={Share:{count:function(){clearTimeout(n.timeout);var q=this.counts[arguments[0]];n.callbackFunc({elem:q.elem,service:q.service,countUrl:q.countUrl,count:+arguments[1]});}}};}VK.Share.counts=VK.Share.counts||[];VK.Share.counts.push(p);_ate.ajs(this.baseUrl+(VK.Share.counts.length-1)+"&url="+_euc(p.countUrl),1);},baseUrl:"//vk.com/share.php?act=count&index="},linkedin:{baseUrl:"//www.linkedin.com/countserv/count/share?url="},odnoklassniki_ru:{ajs:function(n){var p=n.params,q=n.cbname;_ate.ajs(this.baseUrl+_euc(p.countUrl)+"&"+this.jsonpParam+"="+q,1);},baseUrl:"//www.odnoklassniki.ru/dk?st.cmd=shareData&ref=",jsonpParam:"cb"},compact:{baseUrl:"//api-public.addthis.com/url/shares.json?url="},defaults:{cb:function(q){var r=q.params,p=q.data,n=+p.count||+p.shares;if(!l.isUndefined(n)){q.callbackFunc({elem:r.elem,service:r.service,countUrl:r.countUrl,count:!l.isNumeric(n)?0:n});}},ajs:function(n){var p=n.params,q=n.cbname;_ate.ajs(this.baseUrl+_euc(p.countUrl)+"&"+this.jsonpParam+"="+q,1);},jsonpParam:"callback"}},timeout:5000,getCounts:function(s,p){var v=l.shareCounters.requests,n=v.services[s.service],r=v.services.defaults,u=s.countUrl,q,t;if(!v||!v.services||!v.services.defaults){p({elem:s.elem,service:s.service,countUrl:s.countUrl,error:"Could not find necessary JavaScript object",count:"?"});return;}if(!v.services[s.service]||!v.services[s.service].baseUrl){p({elem:s.elem,service:s.service,countUrl:s.countUrl,error:"Service not supported",count:"?"});return;}n.jsonpParam=n.jsonpParam||r.jsonpParam||"callback";u=u.length>25?u.substring(0,25):u;q=setTimeout(function(){p({elem:s.elem,service:s.service,countUrl:s.countUrl,error:"Service request timed out",count:"?"});},v.timeout);t=_ate.util.scb("rcb",u,function(w){clearTimeout(q);if(l.isFunction(n.cb)){n.cb({params:s,data:w,callbackFunc:p});}else{if(l.isFunction(r.cb)){r.cb({params:s,data:w,callbackFunc:p});}}});if(s.service==="pinterest_share"||s.service==="pinterest"){t="window."+t;}if(l.isFunction(n.ajs)){n.ajs.call(n,{params:s,callbackFunc:p,cbname:t,timeout:q});}else{if(l.isFunction(r.ajs)){r.ajs.call(n,{params:s,callbackFunc:p,cbname:t});}}return this;}}},truncateCount:function(n){var p=(""+n).split(".").shift().length;if(!l.isNumeric(n)){return n;}else{if(p<4){return Math.round(n);}else{if(p<7){return l.roundWithSuffix(n,1000,"K");}else{if(p<10){return l.roundWithSuffix(n,1000000,"M");}else{return l.roundWithSuffix(n,1000000000,"B");}}}}},roundWithSuffix:function(r,q,p){r/=q;r=Math.round(r*10)/10;if((r+"").length>4){r=Math.round(r);}return r+p;},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(q){var p=Math.random()*16|0,n=q=="x"?p:p&3|8;return n.toString(16);});},decisionEngine:{run:function(p){var r=this,n,q;l.each(p,function(t,s){if(!l.isPlainObject(s)){return;}n=s.match;if(l.isUndefined(n)||l.isEmptyObject(n)){r.matchObject=s;}else{if(n){q=l.decisionEngine.testAll.call(r,n);if(q){r.matchObject=s;}}}});},testAll:function(p){var r=this,n={},q=true;l.each(p,function(s,t){n[s]=t;q=l.decisionEngine.testOne(n);return q;});return q;},testOne:function(p){var n=true;l.each(p,function(r,q){if(l.decisionEngine.match.hasOwnProperty(r)){n=function(){if(l.isBoolean(q)){return q===l.decisionEngine.match[r](q);}else{return l.decisionEngine.match[r](q);}}();return n;}});return n;},match:{referrer:function(p){if(l.isString(p)){p=[p];}for(var n in p){var q=p[n];if(typeof q!="function"&&new RegExp(q).test(h.referrer)){return true;}}return false;},referringService:function(q){if(l.isString(q)){q=[q];}var p=c.session.source();if(p.type!=="social"||l.isUndefined(p.service)){return false;}for(var n in q){var r=q[n];if(r===p.service){return true;}}return false;},usesService:function(r){if(l.isString(r)){r=[r];}var q=c.user.services();for(var p in q){for(var n in r){if(!l.isUndefined(q[p].name)&&q[p].name===r[n]){return true;}}}return false;},service:function(n){if(l.decisionEngine.match.usesService(n)||l.decisionEngine.match.referringService(n)){return true;}return false;},preferredService:function(r){var q=c.user.services();if(l.isString(r)){r=[r];}if(!q.length){return false;}var n=q[0].name;for(var p in r){var s=r[p];if(s===n){return true;}}return false;},location:function(p){if(l.isString(p)){p=[p];}for(var n in p){if(new RegExp(p[n]).test(h.location.href)){return true;}}return false;},url:function(n){return l.decisionEngine.match.location(n);},mobile:function(){return l.mobile.apply(l,arguments);},tablet:function(){return l.tablet.apply(l,arguments);},phone:function(){return l.tablet.apply(l,phone);},socialBrowser:function(p){var n=/FBFor|Twitter/i.test(navigator.userAgent);return n;},desktop:function(){return l.desktop.apply(l,arguments);},browser:function(){return l.browser.apply(l,arguments);},sameDomain:function(n){},locatedIn:function(n){return c.user&&c.user.isLocatedIn?c.user.isLocatedIn(n):false;},time:function(q){if(!q){return false;}var t,n,s=true,p=new Date();t=q.start||null;n=q.end||null;if(!t&&!n){return false;}function r(v){if(!l.isString(v)){return v;}var w=null;try{if(!l.has(v,"/")&&!l.has(v,",")&&l.has(":")){w=new Date(p.getMonth()+1+"/"+p.getDate()+"/"+p.getFullYear()+" "+v);}else{w=new Date(v);}}catch(u){}return w;}if(t&&l.isString(t)){t=r(t);}if(n&&l.isString(n)){n=r(n);}if(t&&p<t){return false;}if(n&&p>n){return false;}return s;},returning:function(){return c.user.isReturning();},query:function(q){var w=h.location.search;if(!l.isString(w)||!l.has(w,"=")){return false;}var s=w.substring(1).split("&");var u={};var r;for(r in s){var t=s[r].split("=");var p=t[1];var n=t[0];if(l.has(p,"+")&&l.has("utm_term",n)){p=p.split("+").sort().join("+");}u[t[0]]=p;}for(r in q){if(!(r in u)){return false;}switch(r){case"utm_term":if(l.has(u[r],q[r])){return false;}break;default:if(q[r]!==u[r]){return false;}break;}}return true;},utm_source:function(n){return l.decisionEngine.match.query({utm_source:n});},utm_medium:function(n){return l.decisionEngine.match.query({utm_medium:n});},utm_term:function(p){if(l.isString(p)){p=p.split("+");}for(var n in p){if(!l.decisionEngine.match.query({utm_term:p[n]})){return false;}}return true;},utm_content:function(n){return l.decisionEngine.match.query({utm_content:n});},utm_campaign:function(n){return l.decisionEngine.match.query({utm_campaign:n});},iframe:function(n){if(l.isUndefined(n)){n=true;}return e.top!==e===n;},custom:function(n){if(l.isFunction(n)){return n();}else{return!!n;}},hasTag:function(n){if(l.isArray(n)){l.each(n,function(p,q){if(c.user.hasTag(q)){return true;}});return false;}return c.user.hasTag(n);},hasTags:function(n){if(l.isString(n)){n=[n];}for(var p in n){if(!l.decisionEngine.match.hasTag(n[p])){return false;}}return true;}}}};return l;}(g.qwery,g.rAF,g.emdot);g.common=function(b,l,k){var d={create:function(){var q=this,r=q.options,m=k.isString(r.position)?r.position.toLowerCase():q.position||"right",p=r.showAnimation==="show"?"show":m==="top"?"slideInDown":m==="bottom"?"slideInUp":m==="left"?"slideInLeft":"slideInRight",n=r.hideAnimation==="hide"?"hide":m==="top"?"slideOutUp":m==="bottom"?"slideOutDown":m==="left"?"slideOutLeft":"slideOutRight";q.options=k.extend(r,{showAnimation:p,hideAnimation:n});q.position=m;},bindEvents:function(){if(this.status==="disabled"){return this;}if(k.isString(this.element)){this.element=b(this.element)[0];}k.bindEvents.call(this,this.events);return this;},layerList:{},layers:function(){if(k.mobile()){if(_ate.bro.dro){var n=navigator.userAgent,m=parseFloat(n.slice(n.indexOf("Android")+8));if(m<3){var q=new _ate.resource.Resource("layersdroidcss",_atc.rsrcs.layersdroidcss);q.load();}}return this.mobileLayers;}else{if(_ate.bro.ie6||k.isIEQuirksMode()){var p=new _ate.resource.Resource("layersiecss",_atc.rsrcs.layersiecss);p.load();return this.degradedLayers;}else{return this.desktopLayers;}}},getAllLayers:function(){return k.extend({},this.mobileLayers,this.desktopLayers);},feeds:{},active_layers:{},feedsLoading:{},language:false,personalize:true,pcoMap:{smlsh:"share",smlshp:"share",smlfw:"follow",smlwn:"whatsnext",wnm:"whatsnextmobile",smlre:"recommended",smlres:"recommendedside",cod:"drawer",smlrebv:"recommendedbox",smlrebh:"recommendedbox",resh:"responsiveshare",tst:"toaster",smlmo:"dock",msd:"sharedock",jsc:"jumboshare",tbx:"sharetoolbox",scopl:"sharetoolbox",flwh:"followtoolbox",flwv:"followtoolbox",ctbx:"sharetoolbox",cflwv:"followtoolbox",cflwh:"followtoolbox",wmb:"welcome"},enabledLayers:{},degradedLayers:{share:"share",follow:"follow",welcome:"welcome",resh:"responsiveshare",sharetoolbox:"sharetoolbox",followtoolbox:"followtoolbox"},desktopLayers:{share:"share,thankyou",jumboshare:"jumboshare",follow:"follow,thankyou",recommended:"recommended",recommendedbox:"recommendedbox",recommendedside:"recommendedside",drawer:"drawer",welcome:"welcome",whatsnext:"whatsnext",warning:"warning",responsiveshare:"responsiveshare",dock:"dock",sharedock:"sharedock",sharetoolbox:"sharetoolbox",followtoolbox:"followtoolbox",toaster:"toaster"},mobileLayers:{share:"mobile,thankyou",jumboshare:"jumboshare",follow:"mobile,thankyou",recommended:"recommended",recommendedbox:"recommendedbox",whatsnextmobile:"whatsnextmobile",welcome:"welcome",warning:"warning",responsiveshare:"responsiveshare",dock:"dock",sharedock:"sharedock",sharetoolbox:"sharetoolbox",followtoolbox:"followtoolbox"},layersList:{},utils:k,preferredServices:[],translationIds:{share:{postShareTitle:97,postShareFollowMsg:96,postShareRecommendedMsg:99},follow:{postFollowTitle:98,postFollowRecommendedMsg:99},whatsnext:{recommendedTitle:99},recommended:{title:99}},defaultOptions:{share:{position:"left",postShareTitle:"Thanks for sharing!",postShareFollowMsg:"Follow",postShareRecommendedMsg:"Recommended for you",desktop:true,mobile:true,services_exclude:"",counts:false},jumboshare:{counts:true,showAnimation:"show",label:"SHARES",color:"#555B64",maxWidth:979,minWidth:0},responsiveshare:{showAnimation:"show"},sharetoolbox:{showAnimation:"show"},followtoolbox:{showAnimation:"show"},follow:{services:false,title:"",postFollowTitle:"Thanks for following!",postFollowRecommendedMsg:"Recommended for you",desktop:true,mobile:true,visible:"smart"},whatsnext:{recommendedTitle:"Recommended for you"},whatsnextmobile:{recommendedTitle:"Recommended for you",theme:"light"},toaster:{defaultimage:true,theme:"light",title:"Recommended for you"},recommended:{title:"Recommended for you",desktop:true,mobile:true,orientation:"horizontal",size:"large",maxitems:4,defaultimage:true,textonly:false,showAnimation:"show",hideAnimation:"hide"},recommendedbox:{size:"medium",maxitems:"auto",theme:"minimal",promotedUrls:[]},recommendedside:{theme:"light",position:"right",showAnimation:"slideInLeft",hideAnimation:"slideOutRight"},drawer:{theme:"dark",position:"right",orientation:"vertical",maxitems:8,animationType:"overlay",showAnimation:"slideInLeft",hideAnimation:"slideOutRight"},welcome:{show:true,coverPage:false,fixed:false,rememberHide:true,watermark:true,delay:0,showOnScrollTo:false,position:"top",backgroundColor:"#000000",buttonColor:"#098DF4",textColor:"#FFFFFF",linkTextColor:"#FFFFFF",buttonTextColor:"#FFFFFF",buttonBorderColor:"#000000",noGradient:false,alwaysShow:false,message:"If you enjoy this page, do us a favor:",action:{text:"Share this page",verb:"share",type:"button"}},thankyou:{showAnimation:"fadeIn",hideAnimation:"fadeOut"},mobile:{buttonBarPosition:"bottom",showAnimation:"fadeIn",menuShowAnimation:"slideInUp",menuHideAnimation:"slideOutDown",buttonBarTheme:"light"},dock:{},warning:{test:false},theme:"transparent",domain:"",linkFilter:function(n,m){return n;},pubid:"",altRecommendedPubId:"",responsive:{maxWidth:979,minWidth:0}},themes:{minimal:".at4-minimal",dark:".ats-dark",light:".ats-light",gray:".ats-gray",transparent:".ats-transparent"},serviceBlacklist:{settings:true,more:true},originalPageWidth:function(){return k.pageWidth();}(),hiddenClass:"at4-visually-hidden",alternativeHiddenClass:"at4-hidden-off-screen",hideClass:"at4-hide",visibleClass:"at4-visible",showClass:"at4-show",opacityHiddenClass:"at4-opacity-hidden",opacityVisibleClass:"at4-opacity-visible",globalEvents:{"window scroll":k.debounce(function(){k.trigger("addthis.layers.scroll",c,this);},250),"document keydown":function(n){var m=k.isNumber(n.keyCode)?k.KEYCODES[n.keyCode]:false;if(m){k.trigger("addthis.keydown."+m,c,this);}},"addthis.layers.loaded":function(m){d.welcomeBarAndMobile();},"addthis.layers.resize":function(){d.showResponsiveLayers();}},desktopEvents:{"addthis.layers.rendered":k.once(function(){k.bindEvents.call(d,{"window resize":k.debounce(function(){k.trigger("addthis.layers.resize",c,this);},150)});})},commonEventHandlers:{share:{buttonClick:function(u,t){var r=t.className.split(" "),p=r.length,n=this.pco,s="",q=-1,m=t.parentNode;if(m&&(k.hasClass("at4-share-btn",m)||k.hasClass("at-share-btn",m))){t=m;}r=t.className.split(" ");p=r.length;while(++q<p){if(r[q].indexOf("at-svc-")===0){s=r[q].substring(7);}}this.superMethod("share",s,n);k.preventDefaultEvent(u);},showCompactMenu:function(w,q){if(this.menuOpen){return;}var t=this,u=e.addthis_config?f.clone(e.addthis_config):{},v=e.addthis_share?f.clone(e.addthis_share):{},s=this.getShareUrl(),r=this.getShareTitle(),m=this.getShareDescription(),p;u.product=t.pco||"";u.pubid=_ate.pub();v.url=s;v.title=r;v.description=m;if(t.shownServices&&t.shownServices.length){if(u.services_exclude){u.services_exclude+=",";}u.services_exclude+=t.shownServices.join();}this.menuOpen=true;addthis_open(q,"",s,r,u,v);p=document.getElementById("at15s");if(p){x();}else{var n=e.setInterval(function(){p=document.getElementById("at15s");if(p){x();e.clearInterval(n);}});}function x(){var A=q.getBoundingClientRect(),B=window.scrollY||document.documentElement.scrollTop,D=window.scrollX||document.documentElement.scrollLeft,y=window.innerHeight||document.documentElement.clientHeight;if(!p.style){p.setAttribute("style","");}if(A.top>y*0.66){var z=p.getBoundingClientRect(),C=z.bottom-z.top;p.style.left=D+A.left+"px";p.style.top=B+A.top-C+"px";}else{p.style.left=D+A.left+"px";p.style.top=B+A.bottom+"px";}}},hideCompactMenu:function(m,n){this.menuOpen=false;return addthis_close(n);}},mobile:{showExpandedShareMenu:function(r,p){k.preventDefaultEvent(r);var m=this,q=this.history.getState&&this.history.getState(),n=d.active_layers.addthis.sharedock;this.currentLayerType="share";this.menuHeader.innerHTML=_ate._t("Share",91);this.superMethod("showControl",this.searchBox.parentNode);if(q===null||q&&q.menu===false){if(this.history.replaceState){this.history.replaceState({menu:false,opening:true},h.title,e.location.href);}if(this.history.pushState){this.history.pushState({menu:"share"},h.title,e.location.href);}}else{if(this.history.replaceState){this.history.replaceState({menu:"share"},h.title,e.location.href);}}this.generateShareServices();k.removeClass(d.hideClass,this.container);this.show(this.menu,this["options"].menuShowAnimation,function(){m.hideDesktopScrollbar();});k.requestTimeout(function(){if(n){k.addClass("at-share-dock-zindex-hide",n.element);}},400);},hideExpandedShareMenu:function(){var p=this,q=this.shareButton,m=this.followButton,n=d.active_layers.addthis.sharedock;if(n){k.removeClass("at-share-dock-zindex-hide",n.element);}k.addClass(d.hideClass,p.searchClear);if(this.history.getState&&this.history.getState()&&this.history.getState().menu){e.history.go(-1);}else{this.showDesktopScrollbar();this.hide(this.menu,this["options"].menuHideAnimation);if(this.mobile){if(this.history.replaceState){this.history.replaceState({menu:false,opening:false},h.title,e.location.href);}if(this.history.pushState){this.history.pushState({menu:false,empty:true},h.title,e.location.href);e.history.go(-1);}}}if(q&&q.length){k.specialEvents.blur(q);}if(m&&m.length){k.specialEvents.blur(m);}}}},showResponsiveLayers:function(){var t=d.active_layers,p="desktop",q,s,m,n,r,u;k.each(t,function(v,w){k.each(w,function(y,x){y=x.basename;if(y==="mobile"){return false;}p=k.mobile()?"mobile":k.getCurrentDevice(x);if(p==="desktop"){if(x.basename==="mobile"&&k.isVisible(x.menu)){k.trigger("addthis.layers.mobilemenu.hide",c,x);}}q=x.device;s=x.element;m=x.container;n=x.openControl;r=n&&k.isElement(n);if(q!=="both"){if(q===p){if(!k.isVisible(s)&&!k.isVisible(n)){k.trigger("addthis.layers.responsive."+y+".show");if(m!==h.body&&m!==s){k.removeClass(d.hideClass,m);k.removeClass(d.hiddenClass,m);}if(x.status!=="closed"){x.show();}else{if(x.requiresData!==true||x.requiresData===true&&x.trendingLinksJson&&x.trendingLinksJson.length){x.show(n);}}}}else{if(k.isVisible(s)||k.isVisible(n)){k.trigger("addthis.layers.responsive."+y+".hide");if(m!==h.body){k.addClass(d.hideClass,m);}k.addClass(d.hideClass,s);k.addClass(d.hideClass,n);}}}});});k.trigger("addthis.layers.resized");},onloadShowLogic:function(v){var r=v.namespace,w=v.basename,q=v.element,x=k.mobile(),m=v.device,z=v.container,B=v.options,s=B.showAnimation||"show",u=(B.delay||0)*1000,p=B.hideAfter||false,n=v.placeholder,y=v.device,A=v.openControl,t=k.mobile()?"mobile":k.getCurrentDevice(v);if(v.isWhatsNextMobile===true){}else{if(v.rendered!==true&&v.showOnLoad!==false&&(y==="both"||y===t)&&(w!=="mobile"||x)||B.showImmediately===true){if(k.isElement(q)){if(v.status!=="closed"||B.showImmediately===true){k.requestTimeout(function(C){if(k.isElement(n)){h.body.insertBefore(n,h.body.firstChild);h.body.insertBefore(v.container,h.body.firstChild);k.setCSSAttr(n,{height:q.offsetHeight+q.offsetTop+"px"});}k.addClass(d.hideClass,q);k.removeClass(d.hiddenClass,q);k.removeClass(d.hiddenClass,z);v.show(q,s,function(){k.trigger(r+"."+w+".shown",c,{});});},u);}else{l(function(){k.removeClass(d.hiddenClass,q);k.removeClass(d.hiddenClass,z);if(v.requiresData!==true||v.requiresData===true&&v.trendingLinksJson&&v.trendingLinksJson.length){v.show(v.openControl);}});}v.rendered=true;k.trigger("addthis.layers."+v.name+".rendered",c,this);}}else{k.addClass("animated",q);k.addClass(s,q);k.addClass(d.showClass,q);k.addClass(d.hideClass,q);k.removeClass(d.hiddenClass,q);}}},welcomeBarAndMobile:function(){if(d.welcomeBarAndMobile.alreadyCompleted===true){return;}var q=d.active_layers,p,m,n=q&&q.addthis&&q.addthis.mobile,r=q&&q.addthis&&q.addthis.welcome;if(n&&r){p=q.addthis.mobile;m=q.addthis.welcome;if(p.position===m.position){m.device="desktop";}}d.welcomeBarAndMobile.alreadyCompleted=true;},followServices:{facebook:"Facebook",flickr:"Flickr",foursquare:"Foursquare",google_follow:"Google+",instagram:"Instagram",linkedin:"LinkedIn",pinterest:"Pinterest",rss:"RSS",tumblr:"Tumblr",twitter:"Twitter",vimeo:"Vimeo",youtube:"YouTube"},superMethod:function(p,n){var m=Array.prototype.slice.call(arguments,0);m.shift();return d[p].apply(this,m);},animate:function j(q,n,y){if(!q){return;}if(n==="show"){n=d.showClass;}else{if(n==="hide"){n=d.hideClass;}}if(n===d.showClass||n===d.hideClass){q.__isAnimating=false;}if(q.__isAnimating){if(k.isFunction(y)){y.call(this);}return;}else{q.__isAnimating=true;}var s=["animationend","webkitAnimationEnd","oAnimationEnd","oanimationend","msAnimationEnd"],t=["fadeIn","fadeInRight","fadeInLeft","fadeInUp","fadeInDown","slideInLeft","slideInRight","slideInUp","slideInDown",d.showClass],p=["fadeOut","fadeOutRight","fadeOutLeft","fadeOutUp","fadeOutDown","slideOutLeft","slideOutRight","slideOutUp","slideOutDown",d.hideClass],w=k.toObject(p),x=k.toObject(t),A={},u=k.isElement(q),r=y,v=function(){l(function(){if(x[n]){k.removeClass(d.hideClass,q);k.addClass(d.showClass,q);}else{if(w[n]){k.removeClass(d.showClass,q);k.addClass(d.hideClass,q);}}k.removeClass(d.visibleClass,q);});if(k.isFunction(r)){r.call(this);}k.bindEvents.call(A,A,"remove");q.__isAnimating=false;},m=k.supports.csstransitions(),z=t.concat(p);v=f.bind(v,this);if(m){k.each(z,function(B){k.removeClass(z[B],q);});k.each(s,function(B,C){if(u){A[C]=v;}else{A[q+" "+C]=v;}});if(u){A.element=q;}j.evts=A;if(k.getCSSAttr(q,"display")==="none"){k.addClass(d.visibleClass,q);}k.bindEvents.call(A,A);k.addClass("animated",q);k.addClass(n,q);}else{v();}},processTrendingData:function(m,q,p){var n=this;if(p){d.feeds[m+q]=p;d.feedsLoading[m+q]=false;}this.dequeueTrending(m,q);},preRender:function(){var p=this,n=p.parentElement,r,m=p.device,q=p.prerender?p.prerender():f.json2html({".addthis-smartlayers-outer-container":""});if(k.isElement(q)){d.addDeviceClassName(q,m);n.appendChild(q);p.parentElement=p.container=q;}},render:function(){var u=this,p=u.options,n=u.parentElement,q,t,m,s=u.device,r=k.isElement(n)&&n.__containsLayer__===true;if(u.status==="disabled"){u.finalize();}u.offset();if(k.isFunction(u.generateJson)&&!r){q=u.generateJson(u);t=f.json2html(q);}else{if(k.isFunction(u.generateElement)&&!r){t=u.generateElement();}}if(t){if(k.isElement(n)){m=u.container=u.container||t;k.addClass("addthis-smartlayers",m);if(k.isIEQuirksMode()){k.addClass("addthis-smartlayers-quirks-mode",m);}if(_ate.bro.ie6){k.addClass("addthis-smartlayers-ie6",m);}else{if(_ate.bro.ie7){k.addClass("addthis-smartlayers-ie7",m);}else{if(_ate.bro.ie8){k.addClass("addthis-smartlayers-ie8",m);}else{if(_ate.bro.ie9){k.addClass("addthis-smartlayers-ie9",m);}}}}if(u.showOnLoad!==false){k.addClass(d.hiddenClass,m);}else{k.addClass(d.hideClass,m);}d.addDeviceClassName(m,s);if(!k.supports.csstransitions()){p.showAnimation="show";p.hideAnimation="hide";}else{p.showAnimation=p.showAnimation||"fadeIn";p.hideAnimation=p.hideAnimation||"fadeOut";}if(u.inline&&n===h.body){return;}n.appendChild(t);if(n!==a){n.__containsLayer__=true;}d.render_logic.call(u,t);}}else{d.render_logic.call(u);}},render_logic:function(){var m=this;m.finalize().bindEvents().postEvents();if(m.async===true){if(k.isFunction(m.imageResizing)){m.imageResizing(function(){d.onloadShowLogic(m);});}else{d.onloadShowLogic(m);}}else{d.onloadShowLogic(m);}},addDeviceClassName:function(n,m){if(m==="mobile"||m==="desktop"){k.addClass("addthis-smartlayers-"+m,n);}},postEvents:function(){var n=k.getScrollBarWidth(),m=this.position==="right",p=this.namespace,s=this.basename,t=p==="addthis"&&s==="whatsnext",u=p==="addthis"&&s==="share",r=p==="addthis"&&s==="recommendedside",v=this.openControl,q=this.element;if(k.isNumber(n)&&n>0){if(k.isElement(v)){if(m){k.setCSSAttr(v,"padding-right",n+"px");}else{if(t){k.setCSSAttr(v,"right",n+"px");}}}if(_ate.bro.ie10&&k.isElement(q)&&!r){if(m||t){k.setCSSAttr(q,u?"padding-right":"right",n+"px");}}}},getServiceCSS:function(p){var n=this.options||{},r=new _ate.resource.Resource("widget32css",_atc.rsrcs.widget32css),m=new _ate.resource.Resource("widget32whitecss",_atc.rsrcs.widget32whitecss),q=new _ate.resource.Resource("widget20css",_atc.rsrcs.widget20css),s=false;k.each(p,function(u,t){if(!s&&t&&!_ate.services.isTop(t,32)){s=true;if(n.size&&n.size==="medium"){q.load();}else{if(n.theme!=="custom"){r.load();}}}});if(n.theme==="custom"){m.load();}},offset:function(){var p=this.options.offset,n,q=this.name+"-offset",m,r={};if(p){n=document.getElementById(q);if(!n){n=document.createElement("style");n.id=q;n.type="text/css";n.rel="stylesheet";n.media="screen";b("head")[0].appendChild(n);}switch(this.name){case"share":case"whatsnext":case"toaster":break;default:r={left:true,right:true};break;}m=this.element;if(this.openControl){m+=","+this.openControl;}m+=" {";if(p.top&&!r.top){m+="top:"+p.top+";"+(!p.bottom?"bottom:auto":"");}if(p.left&&!r.left){m+="left:"+p.left+";"+(!p.right?"right:auto;":"");}if(p.bottom&&!r.bottom){m+="bottom:"+p.bottom+";"+(!p.top?"top:auto;":"");}if(p.right&&!r.right){m+="right:"+p.right+";"+(!p.left?"left:auto":"");}m+="}";if(n.styleSheet&&n.styleSheet.cssText!==i){n.styleSheet.cssText=m;}else{n.innerHTML=m;}if(!n.parentElement&&m.indexOf("{}")===-1){b("head")[0].appendChild(n);}}},finalize:function(){var n=this,m=n.options,p=!_ate.bro.ie6&&!_ate.bro.ie7&&!k.isIEQuirksMode()&&k.isArray(n.services)&&(m.counts===true||m.counts==="true");if(n.controlContainer){n.controlContainer=b(n.controlContainer)[0];}if(n.closeControl){n.closeControl=b(n.closeControl)[0];}if(n.openControl){n.openControl=b(n.openControl)[0];}if(n.element){n.element=b(n.elementSelector)[0];}if(n.status==="closed"){k.addClass(d.hideClass,n.element);}n.container=n.async===true?n.parentElement:_ate.util.parent(n.element,".addthis-smartlayers")===h?n.element.parentNode:_ate.util.parent(n.element,".addthis-smartlayers");if(p){k.shareCounters.getShareCounts({services:n.services,url:this.getShareUrl()},function(q){if(n.rendered){n.displayCounts.call(n,q);}});}k.trigger("addthis.layer.rendered",{layer:n});return n;},queue:function(p,n,m){return k.queue.call(d,p,n,m||this);},dequeue:function(m){return k.dequeue.call(d,m);},show:function(q,m,s){var p=this,r=p.element,n=p.options;l(function(){m=m||n.showAnimation;q=q||(k.isElement(r)?r:k.isString(r)?b(r):"");if(m&&!k.isVisible(q)){p.animate(q,m,s);}else{if(k.isFunction(s)){s();}}});},hide:function(p,s,r){var n=this,q=n.element,m=n.options;l(function(){s=s||m.hideAnimation;p=p||(k.isElement(q)?q:k.isString(q)?b(q):"");if(s&&k.isVisible(p)){n.animate(p,s,r);}else{if(k.isFunction(r)){r();}}});},showControl:function(){for(var n=0;n<arguments.length;n++){var m=arguments[n];k.removeClass(this.hideClass,m);k.addClass(this.showClass,m);}},hideControl:function(){for(var n=0;n<arguments.length;n++){var m=arguments[n];k.removeClass(this.showClass,m);k.addClass(this.hideClass,m);}},feed:function(t){var u=this,s=u.feedName(),r=u.feeds[s]||(u.feeds[s]=[]),v=u.options,q=e.addThisLinkFilter||v.linkFilter,m=h.location.href.split("#")[0].replace(/\//g,"").replace(/(http:|https:)/,""),p,n=true;if(r&&r.length>0){if(!u.filteredData||t&&!r[t.name]){p=u.filteredData=u.feeds[s][t?t.name:"filtered"]=k.filter(r,function(y,z,x){if(y._removed){return false;}y._secureurl=k.has(y.url,"https:");if(y.image){y._secureimage=k.has(y.image,"https:");y.image=y.image.replace(/(http:|https:)/,"");}if(m===y.url.split("#")[0].replace(/\//g,"").replace(/(http:|https:)/,"")||q&&!q(y)){y._removed=true;return false;}if(t!==i){if(!t.filter(y)){return false;}}if(n){var w=k.match({title:y.title,image:y.image},x,t?t.name:"filtered");if(w.length>1){k.each(w,function(A,B){if(B._removed){return;}if(A>0){B._removed=true;}});}}return true;});if(!this.personalize){k.randomize(p);}}}return r;},feedName:function(){return this.name+(this.domain||"");},feedItem:function(q){var r=q.feed||this.feed(q.test),p,m,n=[];r=r&&r[q.test?q.test.name:"filtered"];q.repeat=q.repeat||0;if(r&&r.length>0){while(r.length>0){p=r.shift();n.push(p);if(!p._displayed||p._displayed<q.repeat){p._displayed=q.repeat;m=p;break;}if(r.length===0){q.repeat++;r.repeat=q.repeat;Array.prototype.push.apply(r,n);n=[];}}Array.prototype.push.apply(r,n);n=[];return m;}},retrieveTrendingData:function(){if(this.status==="disabled"){return this;}var m=e.addthis_config||{},n=this.options.altRecommendedPubId||this.options.pubid||e.addthis_pub||m.pubid||"",r=this.options.domain,p=this.options.numItems,t=this.processTrendingData,q=d,s;t=t?f.bind(t,this):function(){};s={callback:function(u){t(n,r,u);},pubid:n,domain:r,total:p};if(this.options.dummyData){this.queue(n,r,t);this.processTrendingData(n,r,this.options.dummyData);return;}if(n){if(!q.checkForContentFeed(n,r)&&!q.checkForContentFeedLoading(n,r)){q.feedsLoading[n+r]=true;if(this.personalize){_ate.feeds.recommend(s);}else{_ate.feeds.trend(s);}setTimeout(function(){if(q.feedsLoading[n+r]===true){q.feedsLoading[n+r]=false;t(n,r,[]);}},5000);}else{if(q.checkForContentFeed(n,r)&&!q.checkForContentFeedLoading(n,r)){this.dequeueTrending(n,r);}}}else{this.dequeueTrending(n,r);}},checkForContentFeed:function(m,n){if(this.feeds[m+n]){return true;}else{return false;}},checkForContentFeedLoading:function(m,n){if(this.feedsLoading[m+n]){return true;}else{return false;}},normalizeTrendingItem:function(p,s){var r=s.numItems||s.itemCount||1,n=s.pos||0,q=_ate.dctu({url:p.url||"",total:r,pco:this.pco,pos:n}),u=p.title||q,t=_ate.util.gUD(q).replace("http://","").replace("https://",""),m;p.url=q;p.title=u;p.domain=p.isSponsored?p.domain:t;return p;},noImageClasses:{minimal:"at4-no-image-minimal-recommended",transparent:"at4-no-image-light-recommended",light:"at4-no-image-light-recommended",gray:"at4-no-image-gray-recommended",dark:"at4-no-image-dark-recommended"},generateTrendingJson:function(r,G){var M=d,I=this,p=I.options,s=M.feeds[I.options.pubid+I.options.domain],B,y=[],A=G,L=[],u=p.maxitems||p.maxItems,C=p.defaultimage,t=p.textonly,w,H=p.theme,E=I.noImageClasses,F=0,n=I.hasImage=false,x=I.hasTitle=false,J=k.isPlainObject(p.promotedUrls)?k.toArray(p.promotedUrls):k.isString(p.promotedUrls)&&p.promotedUrls.length?[p.promotedUrls]:p.promotedUrls||[],q=J.length>0?true:false,z="",K="",m=h.domain,v=[],D=false;I.feeds[I.feedName()]=s;if(s&&A){s.repeat=s.repeat?s.repeat:1;for(F=0;F<A;F++){B=this.feedItem({repeat:s.repeat});if(B){if(B.image){n=I.hasImage=true;}if(B.title){x=I.hasTitle=true;}y.push(B);}}if(q){k.each(J,function(N,O){if(k.isString(O)){J[N]=k.stripHashFromPath(O);}else{if(k.isPlainObject(O)&&O._atType==1){v.push({title:O.name,url:O.url,image:O.thumbnail.length?O.thumbnail[0].url:"",promoteToLayer:true,isSponsored:true,domain:O.branding});}}});k.each(s,function(P,O){z=k.stripHashFromPath(O.url);if(k.indexOf.call(J,z)!==-1){O=k.cloneObject(O);for(var N=0;N<y.length;N++){if(y[N].url===O.url||N===y.length-1){y.splice(N,1);break;}}O.promoteToLayer=true;y.unshift(O);}});if(v.length){k.each(v,function(O,N){y.unshift(N);y.pop();});}}if(I.requiresImage===true&&n===false||x===false){return[];}k.each(y,function(O,N){w=[];if(N&&N.url){I.normalizeTrendingItem(N,{itemCount:A,numItems:u,pos:O});if(!D&&N.isSponsored){w.push({"div.sponsored-label":{html:"Promoted Content"}});D=true;}if(t!==true&&n===true){if(N.image){w.push({".at4-recommended-item-img":{a:{href:N.url,title:N.title,"img.at-tli":{src:N.image,alt:N.title,"data-secure":N._secureimage?"true":""}}}});}else{if(C===true&&I.showPlaceholderImages!==false){var P={};P[".at4-recommended-item-img."+E[H]]={".at4-recommended-item-placeholder-img":{}};w.push(P);}}}if(I.requiresImage!==true||I.requiresImage===true&&N.image){w.push({".at4-recommended-item-caption":[{h4:{"a.at-recommendedTitle":{href:N.url,html:N.title,title:N.title}}},{small:N.domain}]});}else{return[];}if(r.indexOf("smlres")===0){L.push({"a.at4-recommended-item.at4-recommended-div-item":w});}else{L.push({".at4-recommended-item.at4-recommended-div-item":w});}}});return L;}return false;},resizeTrendingImage:function(s){var x=this,n=s.parentNode.parentNode,v,q,y,p=0,r,m,w,u;if(this.status==="closed"){k.addClass(d.visibleClass,this.element);k.removeClass(d.hideClass,this.element);}else{if(k.isElement(this.container)){k.addClass(d.visibleClass,this.container);}}if(k.isUndefined(s.naturalHeight)){v=new Image();v.src=s.src;s.naturalWidth=v.width;s.naturalHeight=v.height;}q=s.naturalWidth;y=s.naturalHeight;if(!n){return;}else{while(p++<5&&(!n.offsetWidth||!n.offsetHeight)&&n.parentNode){n=n.parentNode;}}r=n.offsetWidth;m=n.offsetHeight||y;if(this.status==="closed"){k.addClass(d.hideClass,this.element);k.removeClass(d.visibleClass,this.element);}else{if(k.isElement(this.container)){k.removeClass(d.visibleClass,this.container);}}w=r/q;u=m/y;if(w>u){y=Math.ceil(y*w);q=r;try{s.style.height=y+"px";s.style.width=q+"px";s.style.top="-"+Math.ceil(Math.abs(y-m)/2)+"px";}catch(t){}}else{q=Math.ceil(q*u);y=m;try{s.style.width=q+"px";s.style.height=y+"px";s.style.left="-"+Math.ceil(Math.abs(q-r)/2)+"px";}catch(t){}}},queueTrending:function(m,n,p){this.queue(m+n,p);this.retrieveTrendingData();},dequeueTrending:function(m,p){var n;while(n=this.dequeue(m+p)){n.item.call(n.context);}},resizeTrendingTitle:function(q){if(_ate.bro.ie6||_ate.bro.ie7||_ate.bro.ie8){return;}if(q&&q.parentNode){var t=q,p=t.parentNode,s=p.clientHeight,n=t.offsetHeight,m=1,r=t.innerHTML,u;if(n>s){while(t.offsetHeight>s&&r.length-m>0){u=r.substr(0,r.length-m++);t.innerHTML=u+"...";}u=u.replace(/[\s\.,-\/#!$%\^&\*;:{=\-_`~(]+$/,"");t.innerHTML=u+"...";}}},generateFollowJson:function(m){var p=[],n=this;k.each(m,function(u,t){var x={},v=t.service,w=t.id,r=t.usertype,q=_ate.share.gfu(v,w,r);if(v&&w&&q){x["span.at4-icon-fw.aticon-"+v]={html:n.followServices[v]||"",svc:v,svcId:w,title:n.followServices[v]};if(v!=="twitter"||k.mobile()){x.href=q;x.target="_blank";}else{x.href="#";}p.push({"a.aticon.at-follow-btn":x});}});return!p||!p.length?false:p;},share:function(u,w){var t=this,v=e.addthis_config?f.clone(e.addthis_config):{},x=e.addthis_share?f.clone(e.addthis_share):{},r=this.getShareUrl(),q=this.getShareTitle(),m=this.getShareDescription();v.product=w;v.pubid=_ate.pub();x.service=u;x.url=r;x.title=q;x.description=m;switch(u){case"addthis":case"more":case"compact":var s=k.mobile()?"mobile":k.getCurrentDevice(t);if(s==="mobile"){if(d.active_layers.addthis.dock||d.active_layers.addthis.mobile||d.active_layers.addthis.mobilesharemenu){k.trigger("addthis.layers.mobilesharemenu.show");}else{addthis.layers({mobilesharemenu:true,pi:true},function(){k.trigger("addthis.layers.mobilesharemenu.show");});}}else{v.ui_pane="";_ate.ao(h.body,"more","","",v,x);}break;case"mailto":e.location.href=_ate.share.genieu(x,v,1);break;case"email":new Image().src=_ate.share.genurl(u,0,x,v);v.ui_pane="email";_ate.ao(h.body,"more","","",v,x);break;case"pinterest":case"pinterest_share":case"thefancy":_ate.share.img(u);k.trigger("addthis.menu.share",c,x);break;case"favorites":var n=x.url,p=x.title;p=_ate.trim(p);n=_ate.track.cof(n);n=_ate.track.mgu(n,x.share_url_transforms||x.url_transforms,x,u);n=_ate.share.acb(u,x,v,n,1);if(_ate.bro.ipa){alert("Tap the <plus> to bookmark in Safari");}else{if(_ate.bro.saf||_ate.bro.chr){alert("Press <"+(_ate.bro.win?"Control":"Command")+">+D to bookmark in "+(_ate.bro.chr?"Chrome":"Safari"));}else{if(_ate.bro.opr){alert("Press <"+(_ate.bro.win?"Control":"Command")+">+D to bookmark in Opera");}else{if(_ate.bro.ffx&&!e.sidebar.addPanel){alert("Press <"+(_ate.bro.win?"Control":"Command")+">+D to bookmark in Firefox");}else{if(document.all){e.external.AddFavorite(n,p);}else{e.sidebar.addPanel(p,n,"");}}}}}break;case"print":new Image().src=_ate.share.genurl(u,0,x,v);e.print();break;case"link":v.ui_pane="link";_ate.ao(h.body,"link","","",v,x);break;default:if(_ate.share.auw(u)){_ate.share.stw(u,x,v);}else{_ate.share.siw(u,x,v);}k.trigger("addthis.menu.share",c,x);}_ate.gat(u,r,v,x);},getShareUrl:function(){var m=e.addthis_share?f.clone(e.addthis_share):{};return this.options.url||m.url;},getShareTitle:function(){var m=e.addthis_share?f.clone(e.addthis_share):{};return this.options.shareTitle||m.title;},getShareDescription:function(){var m=e.addthis_share?f.clone(e.addthis_share):{};return this.options.description||m.description;},follow:function(n,m,s,q){var p=e.addthis_config?f.clone(e.addthis_config):{},r=e.addthis_share?f.clone(e.addthis_share):{};p.product=s;p.pubid=p.username=this.options.pubid||e.addthis_pub||p.pubid||"";r.service=n;r.followUrl=_ate.share.gfu(n,m.id);if(n==="twitter"&&!k.mobile()){_ate.share.ftw(n,m.id,r,p);}else{if(q===true){p.ui_use_different_full_window=true;_ate.share.ftw(n,m.id,r,p);}else{_ate.share.track(n,1,r,p);}}},imageResizer:function(s,u,z){var x=this,B=x.options,A=10,w=500,r=0,m=x.container,q=x.element,t=x.noImageClasses,p=x.hasImage,n=B.theme,v=0;k.addClass(d.visibleClass,q);(function y(){var E=-1,D=0,G,F,I,H,C={};if(s&&s.length){k.each(s,function(J,K){x.superMethod("resizeTrendingTitle",K);});}while(++E<u.length){G=u[E];if(k.isUndefined(G.naturalHeight)){F=new Image();F.src=G.src;if(F.height>0){G.naturalHeight=F.height;G.naturalWidth=F.width;}F=null;}if(G.naturalHeight>0&&G.naturalWidth>0&&!G.__imageloaded__){G.__imageloaded__=true;x.resizeTrendingImage(G);D++;}else{if(G.__imageloaded__){D++;}else{if(r===Math.floor(A/2)&&k.has(k.attr(G,"src"),"http:")&&k.has(k.attr(h.location,"href"),"https:")&&k.attr(G,"data-secure")==="true"){k.attr(G,"src","https:"+k.attr(G,"src").replace("http:",""));}else{if(r===Math.floor(A/2)&&k.has(k.attr(G,"src"),"https:")&&k.has(k.attr(h.location,"href"),"https:")&&k.attr(G,"data-secure")==="false"){k.attr(G,"src","http:"+k.attr(G,"src").replace("https:",""));}}}}}r++;if(D<(x.maxitems||1)&&r<A){k.requestTimeout(y,w);}else{if(B.hideBadImages!==false){k.each(u,function(J,K){if(k.isImageBroken(K)){v+=1;}});k.each(u,function(J,K){if(k.isImageBroken(K)){if(x.showPlaceholderImages===false){I=_ate.util.parent(K,".at4-recommended-div-item");if(I!==h&&I!==h.body){I.parentNode&&I.parentNode.removeChild(I);}if(v>=x.maxitems){k.addClass(d.hideClass,x.container||x.element);}}else{H=_ate.util.parent(K,".at4-recommended-item-img");if(x.hasImage===true&&v<x.maxitems){if(H!==h&&H!==h.body){k.addClass(t[n]||"",H);}C[".at4-recommended-item-placeholder-img"]="";K.parentNode&&K.parentNode.removeChild(K);H.appendChild(f.json2html(C));}else{if(x.hasImage===true&&v>=x.maxitems){k.addClass(d.hideClass,x.container||x.element);}}}}});}k.removeClass(d.visibleClass,q);if(k.isFunction(z)){k.requestTimeout(function(){z();},100);}}}());return x;},mappedDataAttributes:function(){if(d.mappedDataAttributes.cachedOptions){return d.mappedDataAttributes.cached;}var m={};k.each(d.defaultOptions,function(p,n){k.each(n,function(q,r){m[q.toLowerCase()]=q;});});d.mappedDataAttributes.cached=m;return m;},getShareServices:function(){var n=this,t=n.options,w=n.services,q=t.numPreferredServices?t.numPreferredServices:n.numServices?n.numServices:5,m={more:1,print:1,favorites:1,addthis:1,compact:1},r=1,u=[],x;if(!k.isArray(w)||!k.isPlainObject(t)){return;}for(x in w){if(w.hasOwnProperty(x)){var v=w[x],p;if(v==="pinterest"){v="pinterest_share";}if(t.services_exclude[v]!==true&&(_ate.services.exists(v)||m[v]===1||r===q&&n.personalized)){if(v==="more"||v==="addthis"||r===q&&n.personalized){if(t.services_exclude.more!==true){p=_ate._t("More",2).replace("&nbsp;"," ");v="compact";}}else{if(v==="print"){p=_ate._t("Print",22);}else{if(v==="favorites"){p=_ate._t("Favorites",5);}else{if(v==="email"){p=_ate._t("Email",4);}else{p=_ate.services.getName(v);}}}}u.push({svc:v,name:p});if(r++>=q){break;}}}}return u;},displayCounts:function(n){var m=this;if(this.renderShareCounts){this.renderShareCounts.call(this,n);}},drawerIsVisible:false,parentElement:document.body,pageConfigs:[]};return d;}(g.qwery,g.rAF,g.utils);g.layerFactory=function(d,b,l){var k=d.layerList,j={create:function(E,q,w,p){if(!l.isPlainObject(q)){return;}var B=function(){for(var F in q){if(q.hasOwnProperty(F)){this[F]=q[F];}}},C=e.addthis_config||{},s={},v=q.namespace,n=q.basename,x={},z={},r={},u={},t={},y=k[v][n].__numCalls__,m={},A={},D;if(v==="addthis"){l.each(p,function(G,F){if(l.isUndefined(k[v][G])){m[G]=F;}else{A[G]=F;}});}else{l.each(p,function(G,F){if(l.isUndefined(k[v])){m[G]=F;}else{A[G]=F;}});}if(v==="addthis"){s=l.extend(l.extend(l.cloneObject(m),l.cloneObject(d.defaultOptions[n]))||{},l.extend({layers:A},l.cloneObject(w)));}else{s=l.extend(l.extend(l.cloneObject(m),l.cloneObject(d.defaultOptions[v][n]))||{},l.extend({layers:A},l.cloneObject(w)));}if(l.isString(q.inheritsFrom)&&q.inheritsFrom.length){x.names=q.inheritsFrom.split(".");x.namespace=x.names[0];x.basename=x.names[1];if(x.namespace&&x.basename&&l.isPlainObject(k[v][n])){z=l.cloneObject(k[x.namespace][x.basename]);t=l.extend(z,q);u=l.cloneObject(x.namespace==="addthis"?d.defaultOptions[x.basename]:d.defaultOptions[x.namespace][x.basename]);r=l.extend(u,s);}else{if(x.namespace&&!x.basename){z=k.addthis[x.namespace];if(!z){return;}t=k[v][n]=l.extend(l.cloneObject(z),q);u=l.cloneObject(d.defaultOptions[x.namespace]);r=l.extend(u,s);}}B=function(){for(var F in t){if(t.hasOwnProperty(F)){this[F]=t[F];}}};}k[v][n].__numCalls__=l.isUndefined(y)||q.multipleCalls!==true?1:y+1;B.prototype=d;D=new B();D.element=D.element||"#addthis-smartlayers-"+E;if(k[v][n].__numCalls__>1){D.element=D.element+k[v][n].__numCalls__;}D.__numCalls__=k[v][n].__numCalls__;D.elementSelector=D.element;D.name=E;D.mobile=l.mobile();D._super=d;D.inheritedObj=z;if(l.isString(D.parentElement)){D.parentElement=b(D.parentElement)[0];}if(q.inheritsFrom){D.options=r;}else{D.options=s;}D.options.pubid=D.options.altRecommendedPubId||D.options.pubid||e.addthis_pub||C.pubid||"";j.testAgainstRules.call(D);if(l.mobile()&&D.options.mobile===false||l.desktop()&&D.options.desktop===false){l.trigger("addthis.layer.loaded",{layer:D});l.trigger("addthis.layer.rendered",{layer:D});return false;}D.qwery=b;D.utils=l;D.rendered=false;D.device=D.device||"both";if(D.options.elements){if(!b(D.options.elements).length){l.trigger("addthis.layer.loaded",{layer:D});l.trigger("addthis.layer.rendered",{layer:D});return false;}D.isInlineLayer=true;}if(!w.__hideOnHomepage||e.location.pathname!=="/"&&e.location.pathname!==""){D.create();if(D.async===true||l.isFunction(D.prerender)){d.preRender.call(D);}D.render();}l.trigger("addthis.layers."+this.name+".loaded",c,this);l.trigger("addthis.layer.loaded",{layer:D});e.addthis.layers.active_layers=d.active_layers=d.active_layers||{};e.addthis.layers.active_layers[v]=d.active_layers[v]=d.active_layers[v]||{};e.addthis.layers.active_layers[v][n]=d.active_layers[v][n]=D;},testAgainstRules:function(){var n=this,m=n.options;n.rules=function(){var p=m.rules||m.rule;if(l.isArray(p)){return p;}else{if(l.isPlainObject(p)){return[p];}else{return[];}}}();l.decisionEngine.run.call(n,n.rules);n.isMatch=l.isPlainObject(n.matchObject)&&!l.isEmptyObject(n.matchObject)||n.options.alwaysShow===true||n.rules.length===0?true:false;n.options=l.extend(n.options,l.extend(n.options["default"]||{},n.matchObject||{}));}};return j;}(g.common,g.qwery,g.utils);g.setup=function(b,l,d,k){var j=d.layerList;return{addthisWidget:function(n,q){var m=this,p="addthis",r=n;j[p]=j[p]||{};j[p][r]=q;addthis.addEventListener("addthis.layers."+n,function(v){var s=v.target.name,u=l.extend(v.target.props,{namespace:p,basename:r}),t=v.target.options||{},w=v.target.extendedOptions||{};m.createWidget({name:s,props:u,multipleCalls:u.multipleCalls,ops:t,extendedOptions:w,elems:t.elements,namespace:p,basename:r});});return q;},addthisComponent:function(m,n){d.defaultOptions[m]=n.defaultOptions||{};d.desktopLayers[m]=m;d.mobileLayers[m]=m;this.addthisWidget.apply(this,arguments);return n;},thirdPartyWidget:function(m,v){var y=this,t=m.split("."),r=t[0],u=t[1],z=r+"-"+u,w="."+z,x=l.extend({namespace:r,basename:u,fullname:z,eventnamespace:w},v),s,n,p=b("."+x.inlineClass);if(!r){l.warn("You must provide a namespace for your AddThis Smart Layers plugin");return;}else{if(!u){l.warn("You must provide a basename for your AddThis Smart Layers plugin");return;}else{if(!l.isPlainObject(v)){l.warn("You must provide an object to create your AddThis Smart Layers plugin");return;}else{if(r==="addthis"){l.warn("You cannot use the \"addthis\" namespace for your AddThis Smart Layers plugin");return;}else{if(j[r]&&j[r][u]){l.warn("There is already an AddThis Smart Layers plugin with a(n) \""+r+"\" namespace and a(n) \""+u+"\" basename");return;}else{if(j[r]){j[r][u]=x;}else{j[r]={};j[r][u]=x;}d.defaultOptions[r]=d.defaultOptions[r]||{};d.defaultOptions[r][u]=x.options||{};addthis.addEventListener("addthis.layers"+w,function(A){s=A.target.options||{};n=A.target.extendedOptions||{};y.createWidget({name:z,props:x,multipleCalls:x.multipleCalls,ops:s,extendedOptions:n,elems:s.elements,namespace:r,basename:u});});}}}}}if(p.length){var q={};q[r]={};q[r][u]=true;addthis.layers(q);}},createWidget:function(u){var x=u.props,p=u.elems,v=!!(x&&x.inline),n=u.name,s=u.namespace,w=u.basename,r=u.ops,q=u.extendedOptions,y=u.multipleCalls,m;p=function(){if(p){return p;}else{if(v){return"."+x.inlineClass;}}}();if(l.isString(p)){m=b(p);}if(l.isUndefined(p)||m.length===0){k.create(n,x,r,q);}else{if(m.length===1){t(m[0],r);}else{if(m.length>1){if(y!==true){if(l.isUndefined(j[s][w].__numCalls__)){t(m[0],r);}}else{if(y===true){if(l.isArray(m)){l.each(m,function(A,z){t(z,r);});}}}}}}function t(C,A){var B={};if(l.isElement(C)){x.parentElement=C;}if(v){var D=l.filter(C.attributes,function(E){return/^data-/.test(E.name);},C.attributes),z=l.mobile()?"mobile":"desktop";B=function(){var G={},F,E;l.each(D,function(H,I){F=function(){var J=(I.name||"").replace("data-","");J=d.mappedDataAttributes()[J]?d.mappedDataAttributes()[J]:J;return J;}();E=function(){var J=I.value;if(J==="false"){return false;}else{if(J==="true"){return true;}else{if(l.isNumeric(J)){return Number(J);}else{return J;}}}}();G[F]=E;if(F==="title"){G.shareTitle=E;}});if(!l.isEmptyObject(A)){G=l.extend(G,A);}return G;}();if(n==="recommendedbox"){if(l.hasClass("addthis-recommendedbox-horizontal",C)){B.orientation="horizontal";}else{if(l.hasClass("addthis-recommendedbox-vertical",C)){B.orientation="vertical";}}}if(z==="desktop"&&B.desktop===false){return;}else{if(z==="mobile"&&B.mobile===false){return;}}}B=(l.isEmptyObject(B)?A:B)||A;k.create(n,x,B,q);}}};}(g.qwery,g.utils,g.common,g.layerFactory);g.iscroll=function(){var y=Math,k=function(m){return m>>0;},C=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",D=/android/gi.test(navigator.appVersion),r=/iphone|ipad/gi.test(navigator.appVersion),j=/playbook/gi.test(navigator.appVersion),v=/hp-tablet/gi.test(navigator.appVersion),t="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix(),B="ontouchstart"in window&&!v,n=C+"Transform"in document.documentElement.style,p=r||j,w=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(m){return setTimeout(m,17);};}(),u=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;}(),q="onorientationchange"in window?"orientationchange":"resize",d=B?"touchstart":"mousedown",x=B?"touchmove":"mousemove",l=B?"touchend":"mouseup",A=B?"touchcancel":"mouseup",b="translate"+(t?"3d(":"("),s=t?",0)":")",z=function(F,m){var G=this,H=document,E;G.wrapper=typeof F=="object"?F:H.getElementById(F);G.wrapper.style.overflow="hidden";G.scroller=G.wrapper.children[0];G.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,onRefresh:null,onBeforeScrollStart:function(I){I.preventDefault();},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(E in m){G.options[E]=m[E];}G.x=G.options.x;G.y=G.options.y;G.options.useTransform=n?G.options.useTransform:false;G.options.hScrollbar=G.options.hScroll&&G.options.hScrollbar;G.options.vScrollbar=G.options.vScroll&&G.options.vScrollbar;G.options.useTransition=p&&G.options.useTransition;G.scroller.style[C+"TransitionProperty"]=G.options.useTransform?"-"+C.toLowerCase()+"-transform":"top left";G.scroller.style[C+"TransitionDuration"]="0";G.scroller.style[C+"TransformOrigin"]="0 0";if(G.options.useTransition){G.scroller.style[C+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)";}if(G.options.useTransform){G.scroller.style[C+"Transform"]=b+G.x+"px,"+G.y+"px"+s;}else{G.scroller.style.cssText+=";position:absolute;top:"+G.y+"px;left:"+G.x+"px";}G.refresh();G._bind(q,window);G._bind(d);if(!B){G._bind("mouseout",G.wrapper);}};z.prototype={enabled:true,x:0,y:0,steps:[],scale:1,handleEvent:function(E){var m=this;switch(E.type){case d:if(!B&&E.button!==0){return;}m._start(E);break;case x:m._move(E);break;case l:case A:m._end(E);break;case q:m._resize();break;case"mouseout":m._mouseout(E);break;case"webkitTransitionEnd":m._transitionEnd(E);break;}},_resize:function(){this.refresh();},_pos:function(m,E){m=this.hScroll?m:0;E=this.vScroll?E:0;if(this.options.useTransform){this.scroller.style[C+"Transform"]=b+m+"px,"+E+"px"+s+" scale("+this.scale+")";}else{m=k(m);E=k(E);this.scroller.style.left=m+"px";this.scroller.style.top=E+"px";}this.x=m;this.y=E;},_start:function(H){var G=this,E=B?H.touches[0]:H,F,m,I;if(!G.enabled){return;}if(G.options.onBeforeScrollStart){G.options.onBeforeScrollStart.call(G,H);}if(G.options.useTransition){G._transitionTime(0);}G.moved=false;G.animating=false;G.zoomed=false;G.distX=0;G.distY=0;G.absDistX=0;G.absDistY=0;G.dirX=0;G.dirY=0;if(G.options.momentum){if(G.options.useTransform){F=getComputedStyle(G.scroller,null)[C+"Transform"].replace(/[^0-9-.,]/g,"").split(",");m=F[4]*1;I=F[5]*1;}else{m=getComputedStyle(G.scroller,null).left.replace(/[^0-9-]/g,"")*1;I=getComputedStyle(G.scroller,null).top.replace(/[^0-9-]/g,"")*1;}if(m!=G.x||I!=G.y){if(G.options.useTransition){G._unbind("webkitTransitionEnd");}else{u(G.aniTime);}G.steps=[];G._pos(m,I);}}G.startX=G.x;G.startY=G.y;G.pointX=E.pageX;G.pointY=E.pageY;G.startTime=H.timeStamp||Date.now();if(G.options.onScrollStart){G.options.onScrollStart.call(G,H);}G._bind(x);G._bind(l);G._bind(A);},_move:function(J){var G=this,E=B?J.touches[0]:J,F=E.pageX-G.pointX,m=E.pageY-G.pointY,K=G.x+F,I=G.y+m,H=J.timeStamp||Date.now();if(G.options.onBeforeScrollMove){G.options.onBeforeScrollMove.call(G,J);}G.pointX=E.pageX;G.pointY=E.pageY;if(K>0||K<G.maxScrollX){K=G.options.bounce?G.x+F/2:K>=0||G.maxScrollX>=0?0:G.maxScrollX;}if(I>0||I<G.maxScrollY){I=G.options.bounce?G.y+m/2:I>=0||G.maxScrollY>=0?0:G.maxScrollY;}G.distX+=F;G.distY+=m;G.absDistX=y.abs(G.distX);G.absDistY=y.abs(G.distY);if(G.absDistX<6&&G.absDistY<6){return;}if(G.options.lockDirection){if(G.absDistX>G.absDistY+5){I=G.y;m=0;}else{if(G.absDistY>G.absDistX+5){K=G.x;F=0;}}}G.moved=true;G._pos(K,I);G.dirX=F>0?-1:F<0?1:0;G.dirY=m>0?-1:m<0?1:0;if(H-G.startTime>300){G.startTime=H;G.startX=G.x;G.startY=G.y;}if(G.options.onScrollMove){G.options.onScrollMove.call(G,J);}},_end:function(J){if(B&&J.touches.length!=0){return;}var H=this,N=B?J.changedTouches[0]:J,K,M,F={dist:0,time:0},m={dist:0,time:0},G=(J.timeStamp||Date.now())-H.startTime,L=H.x,I=H.y,E;H._unbind(x);H._unbind(l);H._unbind(A);if(H.options.onBeforeScrollEnd){H.options.onBeforeScrollEnd.call(H,J);}if(!H.moved){if(B){K=N.target;while(K.nodeType!=1){K=K.parentNode;}if(K.tagName!="SELECT"&&K.tagName!="INPUT"&&K.tagName!="TEXTAREA"){M=document.createEvent("MouseEvents");M.initMouseEvent("click",true,true,J.view,1,N.screenX,N.screenY,N.clientX,N.clientY,J.ctrlKey,J.altKey,J.shiftKey,J.metaKey,0,null);M._fake=true;K.dispatchEvent(M);}}H._resetPos(200);if(H.options.onTouchEnd){H.options.onTouchEnd.call(H,J);}return;}if(G<300&&H.options.momentum){F=L?H._momentum(L-H.startX,G,-H.x,H.scrollerW-H.wrapperW+H.x,H.options.bounce?H.wrapperW:0):F;m=I?H._momentum(I-H.startY,G,-H.y,H.maxScrollY<0?H.scrollerH-H.wrapperH+H.y:0,H.options.bounce?H.wrapperH:0):m;L=H.x+F.dist;I=H.y+m.dist;if(H.x>0&&L>0||H.x<H.maxScrollX&&L<H.maxScrollX){F={dist:0,time:0};}if(H.y>0&&I>0||H.y<H.maxScrollY&&I<H.maxScrollY){m={dist:0,time:0};}}if(F.dist||m.dist){E=y.max(y.max(F.time,m.time),10);H.scrollTo(k(L),k(I),E);if(H.options.onTouchEnd){H.options.onTouchEnd.call(H,J);}return;}H._resetPos(200);if(H.options.onTouchEnd){H.options.onTouchEnd.call(H,J);}},_resetPos:function(F){var m=this,G=m.x>=0?0:m.x<m.maxScrollX?m.maxScrollX:m.x,E=m.y>=0||m.maxScrollY>0?0:m.y<m.maxScrollY?m.maxScrollY:m.y;if(G==m.x&&E==m.y){if(m.moved){if(m.options.onScrollEnd){m.options.onScrollEnd.call(m);}m.moved=false;}return;}m.scrollTo(G,E,F||0);},_mouseout:function(E){var m=E.relatedTarget;if(!m){this._end(E);return;}while(m=m.parentNode){if(m==this.wrapper){return;}}this._end(E);},_transitionEnd:function(E){var m=this;if(E.target!=m.scroller){return;}m._unbind("webkitTransitionEnd");m._startAni();},_startAni:function(){var J=this,E=J.x,m=J.y,H=Date.now(),I,G,F;if(J.animating){return;}if(!J.steps.length){J._resetPos(400);return;}I=J.steps.shift();if(I.x==E&&I.y==m){I.time=0;}J.animating=true;J.moved=true;if(J.options.useTransition){J._transitionTime(I.time);J._pos(I.x,I.y);J.animating=false;if(I.time){J._bind("webkitTransitionEnd");}else{J._resetPos(0);}return;}F=function(){var K=Date.now(),M,L;if(K>=H+I.time){J._pos(I.x,I.y);J.animating=false;if(J.options.onAnimationEnd){J.options.onAnimationEnd.call(J);}J._startAni();return;}K=(K-H)/I.time-1;G=y.sqrt(1-K*K);M=(I.x-E)*G+E;L=(I.y-m)*G+m;J._pos(M,L);if(J.animating){J.aniTime=w(F);}};F();},_transitionTime:function(m){this.scroller.style[C+"TransitionDuration"]=m+"ms";},_momentum:function(K,E,I,m,M){var J=0.0006,F=y.abs(K)/E,G=F*F/(2*J),L=0,H=0;if(K>0&&G>I){H=M/(6/(G/F*J));I=I+H;F=F*I/G;G=I;}else{if(K<0&&G>m){H=M/(6/(G/F*J));m=m+H;F=F*m/G;G=m;}}G=G*(K<0?-1:1);L=F/J;return{dist:G,time:k(L)};},_offset:function(m){var F=-m.offsetLeft,E=-m.offsetTop;while(m=m.offsetParent){F-=m.offsetLeft;E-=m.offsetTop;}return{left:F,top:E};},_bind:function(F,E,m){(E||this.scroller).addEventListener(F,this,!!m);},_unbind:function(F,E,m){(E||this.scroller).removeEventListener(F,this,!!m);},destroy:function(){var m=this;m.scroller.style[C+"Transform"]="";m._unbind(q,window);m._unbind(d);m._unbind(x);m._unbind(l);m._unbind(A);m._unbind("mouseout",m.wrapper);if(m.options.useTransition){m._unbind("webkitTransitionEnd");}if(m.options.onDestroy){m.options.onDestroy.call(m);}},refresh:function(){var m=this,E;m.wrapperW=m.wrapper.clientWidth;m.wrapperH=m.wrapper.clientHeight;m.scrollerW=m.scroller.offsetWidth;m.scrollerH=m.scroller.offsetHeight;m.maxScrollX=m.wrapperW-m.scrollerW;m.maxScrollY=m.wrapperH-m.scrollerH;m.dirX=0;m.dirY=0;m.hScroll=m.options.hScroll&&m.maxScrollX<0;m.vScroll=m.options.vScroll&&(!m.options.bounceLock&&!m.hScroll||m.scrollerH>m.wrapperH);E=m._offset(m.wrapper);m.wrapperOffsetLeft=-E.left;m.wrapperOffsetTop=-E.top;m.scroller.style[C+"TransitionDuration"]="0";m._resetPos(200);},scrollTo:function(m,K,J,I){var H=this,G=m,F,E;H.stop();if(!G.length){G=[{x:m,y:K,time:J,relative:I}];}for(F=0,E=G.length;F<E;F++){if(G[F].relative){G[F].x=H.x-G[F].x;G[F].y=H.y-G[F].y;}H.steps.push({x:G[F].x,y:G[F].y,time:G[F].time||0});}H._startAni();},scrollToElement:function(m,F){var E=this,G;m=m.nodeType?m:E.scroller.querySelector(m);if(!m){return;}G=E._offset(m);G.left+=E.wrapperOffsetLeft;G.top+=E.wrapperOffsetTop;G.left=G.left>0?0:G.left<E.maxScrollX?E.maxScrollX:G.left;G.top=G.top>0?0:G.top<E.maxScrollY?E.maxScrollY:G.top;F=F===i?y.max(y.abs(G.left)*2,y.abs(G.top)*2):F;E.scrollTo(G.left,G.top,F);},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(x);this._unbind(l);this._unbind(A);},enable:function(){this.enabled=true;},stop:function(){u(this.aniTime);this.steps=[];this.moved=false;this.animating=false;}};return z;}();g.mobile=function(k,b,j,l,d){return b.addthisWidget("mobile",{create:function(){var t=this,v=t.basename,m=this["options"]||{},n=m.layers.share||{},w=v==="mobile"?n.services:m.shareServices,s,p,y,x,q,u=function(){if(e.addthis_config&&k.isPlainObject(e.addthis_config)){return e.addthis_config.services_exclude||"";}return"";}(),r={};this.initialize();this.position=s=m.buttonBarPosition&&m.buttonBarPosition.toLowerCase()==="top"?"top":"bottom";y=s==="top"?"slideInDown":"slideInUp";q=s==="top"?"slideOutUp":"slideOutDown";t.options=k.extend(m,{menuShowAnimation:y,menuHideAnimation:q,buttonBarTheme:m.buttonBarTheme==="transparent"?"light":m.buttonBarTheme});t.positionClass=t.position==="top"?".at4m-dock-top":".at4m-dock-bottom";if(w){this.personalized=false;this.services=w.replace(/ /g,"").split(",").concat(t.preferredServices);}else{this.services=t.preferredServices;}if(typeof u==="string"){u=u.split(",");k.each(u,function(A,z){z=k.trim(z);r[z]=true;});m.services_exclude=r;}return t;},initialize:function(){var p=this,r,m=e.history.replaceState,q=e.history.pushState;if(p.mobile&&m&&q){this.history={};this.history.getState=function(){if(e.history.state){return e.history.state;}else{return e.sessionStorage&&(r=e.sessionStorage.getItem("history.state"))&&JSON.parse(r)||null;}};this.history.pushState=function(t,v,s){q.call(e.history,t,v,s);try{e.sessionStorage.setItem("history.state",JSON.stringify(t));e.sessionStorage.setItem("history.state:title",v);e.sessionStorage.setItem("history.state:href",s);}catch(u){}};this.history.replaceState=function(t,v,s){m.call(e.history,t,v,s);try{e.sessionStorage.setItem("history.state",JSON.stringify(t));e.sessionStorage.setItem("history.state:title",v);e.sessionStorage.setItem("history.state:href",s);}catch(u){}};this.history.replaceState({menu:false,opening:false},document.title,e.location.href);}else{this.history={};}function n(s){if(!this.mobile){return;}this.history.replaceState(s.state,h.title,e.location.href);if(s.state&&s.state.menu===false&&s.state.opening===true){k.trigger("addthis.layers.mobilemenu.hide",c,this);}else{if(s.state&&s.state.menu===false&&s.state.empty===true){e.history.go(-1);}}if(s.state&&s.state.menu){switch(s.state.menu){case"share":p.events["#at4m-sb click"].call(p,s);break;case"follow":p.events["#at4m-fb click"].call(p,s);break;}}}this.popStateEventHandler=n;},pco:"smlmo-1.0",device:"mobile",element:"#at4m-mobile-container",dock:"#at4m-dock",dockToggle:"#at4m-dock-toggle",menu:"#at4m-menu",menuHeader:"#at4m-menu-head",menuCloseControl:"#at4m-mcc",menuBody:"#at4m-services",innerMenuBody:"#at4m-menu-body",searchBox:"#at4-searchBox",searchClear:"#at4-searchClear",position:"bottom",positionClass:"",services:[],servicesInMenu:{},personlized:false,dockClosed:false,atScroll:false,isScrolling:false,isLoading:false,serviceListPos:0,isSearching:false,mobileBlacklist:{link:true},finalize:function(){this.element=d(this.element)[0];this.dock=d(this.dock)[0];this.dockToggle=d(this.dockToggle)[0];this.menu=d(this.menu)[0];this.menuHeader=d(this.menuHeader)[0];this.menuCloseControl=d(this.closeControl)[0];this.menuBody=d(this.menuBody)[0];this.searchBox=d(this.searchBox)[0];this.searchClear=d(this.searchClear)[0];this.innerMenuBody=d(this.innerMenuBody)[0];k.trigger("addthis.layer.rendered",{layer:this.name});return this;},events:{"!window popstate":function(n,m){this.popStateEventHandler(n);},"#at4m-fb click":function(q,n){k.preventDefaultEvent(q);var m=this,p=this.history.getState&&this.history.getState();this.currentLayerType="follow";this.menuHeader.innerHTML=_ate._t("Follow",96);this.superMethod("hideControl",this.searchBox.parentNode);if(p===null||p&&p.menu===false){if(this.history.replaceState){this.history.replaceState({menu:false,opening:true},h.title,e.location.href);}if(this.history.pushState){this.history.pushState({menu:"follow"},h.title,e.location.href);}}else{if(this.history.replaceState){this.history.replaceState({menu:"follow"},h.title,e.location.href);}}this.generateFollowServices();this.show(this.menu,this["options"].menuShowAnimation,function(){m.hideDesktopScrollbar();});},"#at4m-sb click":j.commonEventHandlers.mobile.showExpandedShareMenu,"#at4m-mcc click":function(n,m){k.preventDefaultEvent(n);k.trigger("addthis.layers.mobilemenu.hide",c,this);},"#at4m-dock-toggle click":function(n,m){k.preventDefaultEvent(n);if(this.dockClosed){k.trigger("addthis.layers.dock.show",c,this);}else{k.trigger("addthis.layers.dock.hide",c,this);}},"addthis.layers.dock.show":function(){this.show(this.dock,this["options"].showAnimation,function(){this.dockClosed=false;});k.removeClass("at4-dock-toggle-active",this.dockToggle);},"addthis.layers.dock.hide":function(){k.addClass("at4-dock-toggle-active",this.dockToggle);this.hide(this.dock,this["options"].hideAnimation,function(){this.dockClosed=true;});},"addthis.layers.mobilemenu.hide":j.commonEventHandlers.mobile.hideExpandedShareMenu,"addthis.layers.loaded":k.once(function(){var s=this.basename,n=j.active_layers.addthis,r=n.share||{},t=n.follow||{},x,q,u,v,m,w,p;k.bindEvents.call(this,{"!input[type=\"text\"],textarea,select focus":function(z,y){if(k.mobile()&&k.hasClass("addthis-smartlayers",this.container)){if(!this.container.contains(y)){k.addClass(j.hideClass,this.container);}}},"!input[type=\"text\"],textarea,select blur":function(z,y){if(k.mobile()&&k.hasClass("addthis-smartlayers",this.container)){if(!this.container.contains(y)){k.removeClass(j.hideClass,this.element);}}}});if(!k.mobile()){q=r.options||{};v=q.responsive;u=t.options||{};w=u.responsive;if(s==="mobile"&&(v||w)){if(w){k.bindEvents.call(this,{"addthis.layers.responsive.follow.show":function(){if(!v){k.addClass(j.hideClass,this.element);}else{m=k.getCurrentDevice(r);if(m==="mobile"){k.addClass(j.hideClass,this.followButton);k.addClass("at4-ma1",this.dock);k.removeClass("at4-ma2",this.dock);}else{k.addClass(j.hideClass,this.element);}}if(!this.mobile&&k.isVisible(this.menu)){k.trigger("addthis.layers.mobilemenu.hide");}},"addthis.layers.responsive.follow.hide":function(){if(!v){k.removeClass(j.hideClass,this.followButton);k.removeClass(j.hideClass,this.element);}else{m=k.getCurrentDevice(r);if(m==="mobile"){k.removeClass(j.hideClass,this.followButton);k.removeClass("at4-ma1",this.dock);k.addClass("at4-ma2",this.dock);}else{k.removeClass(j.hideClass,this.followButton);k.addClass(j.hideClass,this.shareButton);k.addClass("at4-ma1",this.dock);k.removeClass("at4-ma2",this.dock);}k.removeClass(j.hideClass,this.element);}}});p=k.getCurrentDevice(t);if(p==="mobile"){k.trigger("addthis.layers.responsive.follow.hide");}}if(v){k.bindEvents.call(this,{"addthis.layers.responsive.share.show":function(){if(!w){k.addClass(j.hideClass,this.element);}else{p=k.getCurrentDevice(t);if(p==="mobile"){k.addClass(j.hideClass,this.shareButton);k.addClass("at4-ma1",this.dock);k.removeClass("at4-ma2",this.dock);}else{k.addClass(j.hideClass,this.element);}}if(!this.mobile&&k.isVisible(this.menu)){k.trigger("addthis.layers.mobilemenu.hide");}},"addthis.layers.responsive.share.hide":function(){if(!w){k.removeClass(j.hideClass,this.shareButton);k.removeClass(j.hideClass,this.element);}else{p=k.getCurrentDevice(t);if(p==="mobile"){k.removeClass(j.hideClass,this.shareButton);k.removeClass("at4-ma1",this.dock);k.addClass("at4-ma2",this.dock);}else{k.removeClass(j.hideClass,this.shareButton);k.addClass(j.hideClass,this.followButton);k.addClass("at4-ma1",this.dock);k.removeClass("at4-ma2",this.dock);}k.removeClass(j.hideClass,this.element);}}});m=k.getCurrentDevice(r);if(m==="mobile"){k.trigger("addthis.layers.responsive.share.hide");}}}}}),"addthis.keydown.esc":function(){if(!this.mobile&&k.isVisible(this.menu)){k.trigger("addthis.layers.mobilemenu.hide");}},".at4m-fwc click":function(r,q){k.trigger("addthis.layers.mobilemenu.hide");var p=k.attr(q,"svc"),s=k.attr(q,"svcId"),n=this.pco,m={service:p,id:s,pco:n};this.superMethod("follow",p,m,n);},".at4m-shc click":function(q,n){var m=n.getAttribute("svc"),p=e.addthis_share?f.clone(e.addthis_share):{};p.service=m;k.trigger("addthis.layers.mobilemenu.hide");k.trigger("addthis.menu.share",c,p);},"!#at4m-services click":function(n,m){k.trigger("addthis.layers.mobilemenu.hide");},"#at4-searchBox keyup":k.debounce(function(t,q){if(this.searchBox.value!==""){this.superMethod("showControl",this.searchClear);this.isSearching=true;}else{this.superMethod("hideControl",this.searchClear);this.generateShareServices();return;}var n=this.searchBox.value.toLowerCase(),r=[],v=this.atScroll,p,u;this.servicesInMenu={};for(p in _ate.services.map){u=_ate.services.getName(p);if(n===""){r[p]=u;}else{if(k.has(p.toLowerCase(),n)||k.has(u.toLowerCase(),n)){r.push(p);}}}this.menuBody.innerHTML="";for(p in r){if(r.hasOwnProperty(p)){if(this.options.services_exclude[r[p]]!==true){var m=this.generateShareButtonJson(r[p]);if(m){this.menuBody.appendChild(f.json2html(m));}}}}if(this.mobile){v.refresh();}},500),"#at4-searchClear click":function(n,m){k.preventDefaultEvent(n);this.searchBox.value="";this.generateShareServices();this.superMethod("hideControl",this.searchClear);},"addthis.layers.mobilesharemenu.show":j.commonEventHandlers.mobile.showExpandedShareMenu,"addthis.layers.mobilesharemenu.hide":j.commonEventHandlers.mobile.hideExpandedShareMenu},postEvents:function(){var m=this;if(!m.mobile){k.bindEvents.call(this,{"!#at4m-menu-body scroll":k.debounce(function(p,n){m.checkAndAddMoreServices();},200)});}m.shareButton=d("#at4m-sb")[0];m.followButton=d("#at4m-fb")[0];},hideDesktopScrollbar:function(){if(!this.mobile){k.addClass("at4m-scroll-overflow",this.innerMenuBody);k.addClass("at4m-hidden-overflow",a);}},showDesktopScrollbar:function(){if(!this.mobile){k.removeClass("at4m-scroll-overflow",this.innerMenuBody);k.removeClass("at4m-hidden-overflow",a);}},generateJson:function(){var v={},w=[],s={},r={},D=this,q=D.basename,C=D.options||{},y=(q==="mobile"?C.layers.follow:C)||{},E=(q==="mobile"?C.layers.share:C)||{},B=this.themes[C.buttonBarTheme]?this.themes[C.buttonBarTheme]:C.theme?this.themes[C.theme]:"",x={},z={},p={},A={},m=e.location.pathname==="/"||e.location.pathname==="",n=y.__hideOnHomepage&&m,t=E.__hideOnHomepage&&m,u=q==="mobile"?y.services:C.followServices;if(C.follow!==false&&C.follow!=="off"&&u&&u.length&&(D.mobile&&y.mobile===false?false:true)&&(!D.mobile&&y.responsive===false?false:true)&&!n){z["a#at4m-fb"]={"i.at4m-dock-follow":{},href:"#",html:_ate._t("Follow",96)};w.push(z);}if(C.share!==false&&C.share!=="off"&&(q!=="mobile"||q==="mobile"&&D.enabledLayers.share)&&(D.mobile&&E.mobile===false?false:true)&&(!D.mobile&&E.responsive===false?false:true)&&!t){x["a#at4m-sb"]={"i.at4m-dock-share":{},href:"#",html:_ate._t("Share",91)};w.push(x);}if(w.length){v["div#at4m-dock.at4m-dock"+this.positionClass+B+".at4-ma"+w.length]=w;A["a#at4m-dock-toggle"]={html:"Toggle Dock",href:"#"};s["div.at4m-dock-toggle"+this.positionClass+B]=A;r["div#at4m-menu.at4m-menu"+B]={"div.at4m-menu-inner":[{"div.at4m-menu-header":{"div.at4m-menu-header-inner":{"div#at4m-menu-head":_ate._t("Share",91),"a#at4m-mcc.at4m-menu-cancel":{href:"#",html:"Close"}}}},{"div#at4m-menu-body":{"div#scroller":[{"div.at4m-menu-search":[{input:{type:"text",placeholder:_ate._t("Find a service",35),id:"at4-searchBox"}},{input:{type:"submit"}},{"input.at4-hide":{type:"cancel",id:"at4-searchClear"}}]},{"div.at4m-menu-content":{"ul#at4m-services.addthis_32x32_style":{}}}]}},{"div.at4m-menu-footer":{"div.at4m-menu-footer-inner":[{"a.at4m-menu-footer-logo":{href:"//www.addthis.com/?utm_source=dynmex&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",target:"_blank",html:"AddThis"}},{"a.at4m-menu-footer-privacy":{href:"//www.addthis.com/privacy/privacy-policy",target:"_blank",html:_ate._t("Privacy",24)}}]}}]};p["div#at4m-mobile-container"+(D.showDock===false?" .at-expandedmenu-component":"")]=[v,s,r];return p;}else{return false;}},generateFollowServices:function(){if(this.atScroll){this.atScroll.destroy();this.atScroll=null;}this.menuBody.innerHTML="";var p=this.basename,m=p==="mobile"?this.options.layers.follow.services:this.options.followServices,n=this;k.each(m,function(x,A){var v=A||{},y=v.service,s=v.id,q=v.usertype,w=_ate.share.gfu(y,s,q),r=n.followServices[y],u,t={},z={};z["span.at4-icon-fw.aticon-"+y]="";t={"li.at4m-listitem":{"a.at4m-fwc":{href:w,target:"_blank",svc:y,svcId:s,title:r,div:[z,{"span.at4-label.atservice":r},{"span.at4-arrow":"&gt;"}]}}};u=n.menuBody.appendChild(f.json2html(t));if(y==="twitter"){u.children[0].conf={follow:true};}});this.initializeIscroll("follow");},generateShareServices:function(){var n=this,m;if(this.atScroll){this.atScroll.destroy();this.atScroll=null;}this.servicesInMenu={};this.serviceListPos=0;this.isSearching=false;this.searchBox.value="";this.menuBody.innerHTML="";if(!this.services){this.services=[];}for(m in _ate.services.map){if(n.services.length===30){break;}if(n.options.services_exclude[m]!==true){n.services.push(m);}}k.each(this.services,function(r,p){if(n.options.services_exclude[p]!==true){var q=n.generateShareButtonJson(p);if(q){n.menuBody.appendChild(f.json2html(q));}}});this.initializeIscroll("share");},checkAndAddMoreServices:function(){var u=this,t=this.atScroll,n=0,p=this.serviceListPos,r=20,v,s,m;if(u.mobile){if(!this.isSearching&&Math.abs(t.y)>Math.abs(t.maxScrollY)*0.5&&!this.isLoading){this.isLoading=true;q();t.refresh();this.isLoading=false;}}else{v=this.innerMenuBody.scrollHeight,s=this.innerMenuBody.offsetHeight,m=this.innerMenuBody.scrollTop;if(!this.isSearching&&v-s-m<=150&&!this.isLoading&&this.currentLayerType==="share"){this.isLoading=true;q();this.isLoading=false;}}function q(){for(var x in _ate.services.map){if(u.options.services_exclude[x]!==true){if(n>p){var w=u.generateShareButtonJson(x);if(w){u.menuBody.appendChild(f.json2html(w));}if(n===p+r){break;}}n++;}}u.serviceListPos=n;}},generateShareButtonJson:function(r){var m={},p={},q=e.addthis_config?f.clone(e.addthis_config):{},t=e.addthis_share?f.clone(e.addthis_share):{},s=_ate.share.genurl(r,0,t,q),n;if(r==="email"){s=_ate.share.genieu(t,q,0);}if(_ate.services.exists(r)&&!this.servicesInMenu[r]&&!this.serviceBlacklist[r]&&!this.mobileBlacklist[r]){p["span.at4-icon.aticon-"+r]="";n=_ate.services.getName(r);m={"li.at4m-listitem":{"a.at4m-shc":{href:s,target:"_blank",svc:r,title:n,div:[p,{"span.at4-label.atservice":n},{"span.at4-arrow":"&gt;"}]}}};this.servicesInMenu[r]=true;return m;}else{return false;}},initializeIscroll:function(m){if(!this.mobile){return;}var n=this;n.atScroll=new l("at4m-menu-body",{onScrollEnd:function(){k.requestTimeout(function(){n.isScrolling=false;},300);},onScrollMove:k.debounce(function(){k.specialEvents.blur(n.searchBox);n.isScrolling=true;if(m==="share"){n.checkAndAddMoreServices();}},100),onBeforeScrollStart:function(q){q=q||e.event;var p=q.target||q.srcElement;while(p.nodeType!=1){p=p.parentNode;}if(p.tagName!=="INPUT"){k.preventDefaultEvent(q);}else{if(p.getAttribute("type")==="text"){p.focus();}}},checkDOMChanges:false});}});}(g.utils,g.setup,g.common,g.iscroll,g.qwery);g.dock=function(k,b,j,l,d){return b.addthisWidget("dock",{inheritsFrom:"mobile"});}(g.utils,g.setup,g.common,g.iscroll,g.qwery,g.mobile);g.recommended=function(k,b,j,d){return b.addthisWidget("recommended",{pco:"smlre-1.0",element:"#at4-recommended",device:"both",async:true,requiresData:true,status:"open",prerender:function(){var l={};l["#at4-"+this.basename+"-outer-container.at4-"+this.basename+"-outer-container"]="";return f.json2html(l);},render:function(){this.queueTrending(this.options.pubid,this.options.domain,function(){this.superMethod("render");});return this;},generateJson:function(){if(this.name==="recommendedbox"&&k.isElement(this.parentElement.parentNode)&&this.parentElement.parentNode.__containsRecommended__===true){return;}else{if(this.name==="recommendedbox"){if(k.isElement(this.parentElement.parentNode)){this.parentElement.parentNode.__containsRecommended__=true;}}}var y=this,q=y.options,L=q.title||"",v=q.promotedUrls?q.promotedUrls[0]:false,K=v?k.isPlainObject(v)&&v._atType===1:false,I=q.promotedUrls,x=q.size==="medium"?".at-medium":"",s=this.inlineClass?".at-inline":"",J=parseInt(q.numrows,10)||1,w=y.maxitems=function(){var P=q.maxitems,U,T,R,O,Q,N={},S;if(k.isString(P)){if(q.orientation==="vertical"){T=y.parentElement.offsetHeight;if(T<3){return 4;}N[y.element+".temp-elem.at4-recommended"+x+s]={".at4-recommended-container.at4-recommended-vertical":{".at4-recommended-item":""}};S=f.json2html(N);a.appendChild(S);O=d(".temp-elem.at4-recommended"+x+s+" .at4-recommended-vertical .at4-recommended-item")[0];Q=O.offsetHeight;S.parentElement.removeChild(S);if(k.isElement(S)&&k.isElement(S.parentNode)){S.parentNode.removeChild(S);}if(T<Q){return 4;}else{return Math.floor(T/Q);}}else{U=y.parentElement.offsetWidth;N[y.element+".temp-elem.at4-recommended"+x+s]={".at4-recommended-container.at4-recommended-horizontal":{".at4-recommended-item":""}};S=f.json2html(N);a.appendChild(S);O=d(".temp-elem.at4-recommended"+x+s+" .at4-recommended-horizontal .at4-recommended-item")[0];R=O.offsetWidth;if(k.isElement(S)&&k.isElement(S.parentNode)){S.parentNode.removeChild(S);}if(U<R){return 4;}else{return Math.floor(U/R);}}}else{if(k.isNumber(P)){return q.maxitems;}}}(),p=function(){if(q.orientation==="vertical"){return".at4-recommended-vertical";}else{return".at4-recommended-horizontal";}}(),M=".at4-recommended-"+this.name+(this.options.textonly===true||this.options.textonly==="true"?" .at4-recommended-text-only":""),A=p+"-logo",r=y.trendingLinksJson=this.superMethod("generateTrendingJson",this.pco,w*J),n={role:"region","aria-labelledby":"at-recommended-label"},C={},z={},H=j.themes[q.theme]?j.themes[q.theme]:"",E=y.position?y.position==="right"?".at4-"+y.basename+"-right":".at4-"+y.basename+"-left":"",u=y.position==="right"?"at-right":"at-left",B=q.animationType?"."+y.basename+"-"+q.animationType:"",G={},l={},F={},m=this.position==="left"?"right":"left",t=[];if(r&&r.length){if(K&&this.pco.indexOf("smlres")===0){L="Promoted Content";}if(L){n["h3.at-recommended-label"+(q.orientation==="vertical"?".at-vertical":"")]={html:L};}else{n["h3.at-recommended-label."+j.hiddenClass]={html:"AddThis Recommended"};}if(y.showCloseButton===true){n["button.at4-closebutton."+y.basename+"-close"]={html:"x",title:"Close"};}for(var D=0;D<J;D++){n[".at4-recommended-container"+p+" at4-item-"+D]=r.slice(D*w,(D+1)*w);}n[".at-logo"+A]={".at4-logo-container":{"a#at-privacy.at4-logo":{href:"//www.addthis.com/?utm_source=dyntr&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",target:"_blank",html:"AddThis"}}};if(y.closeControl){G[".at4-arrow.at-"+y.position]={title:"Close"};n["#at4-"+y.basename+"-close-control.at4-recommendedside-control."+j.hideClass]=G;}C[this.elementSelector+".at4-recommended."+u+B+H+M+x+s]=n;_ate.track.avp(this.elementSelector,this.pco,"ttnl="+w);}else{C.div="";}if(y.openControl){l[".at4-arrow.at-"+m]={title:"Open"};F["#at4-"+y.basename+"-open-control.at4-recommendedside-control."+j.hideClass+H]=l;}F=k.isEmptyObject(F)?false:F;if(F!==false){t.push(F);}t.push(C);z[".at4-"+y.basename+"-outer"+E]=t;return z;},imageResizing:function(p){var m=this,n=d(m.elementSelector+" .at-recommendedTitle"),l=d(m.elementSelector+" .at-tli");m.superMethod("imageResizer",n,l,p);}});}(g.utils,g.setup,g.common,g.qwery);g.drawer=function(k,b,j,d,l){return b.addthisWidget("drawer",{device:"desktop",plugin:true,showPlaceholderImages:false,requiresImage:true,status:"closed",pco:"cod-1.0",element:"#at-drawer",inheritsFrom:"recommended",openControl:"#at-drawer-arrow",showCloseButton:true,prerender:function(){var w=this,y=w.options,x={},p={},r=j.themes[y.theme]?j.themes[y.theme]:"",n=this.position==="left"?".at4-drawer-left":".at4-drawer-right",u=_ate.bro.ie6||_ate.bro.ie7||_ate.bro.ie8,s=this.position==="left"?u?"right":"left":u?"left":"right",t=".at-"+s,q=".at4-drawer-inline",v=u?".at4-drawer-old-browsers":".at4-drawer-modern-browsers",m="#at-drawer-arrow"+t+"."+j.hideClass+v+r;p[m]={"div#at-drawer-open-arrow":""};if(k.isString(y.elements)&&y.elements.length){x["#at4-drawer-outer-container"+n+q+r]=p;}else{x["#at4-drawer-outer-container"+n+r]="";h.body.appendChild(f.json2html(p));}return f.json2html(x);},events:{".at4-recommended-div-item mouseover":function(n,m){k.addClass("at-hover",m);},".at4-recommended-div-item mouseout":function(n,m){k.removeClass("at-hover",m);},"!#at-drawer-arrow mouseenter":function(n,m){this.showdrawer();},"!#at-drawer-arrow click":function(n,m){this.showdrawer();},".drawer-close click":function(n,m){this.hidedrawer();m.blur();},mouseleave:function(n,m){this.hidedrawer();},"addthis.keydown.esc":function(n,m){this.hidedrawer();},"addthis.layers.drawer.show":function(n,m){this.showdrawer();}},showdrawer:function(){var s=this,w=s.options,m=s.element,u=d("html")[0],n=w.animationType,r=s.position,t=r==="left"?"right":"left",q=j.active_layers.addthis,p=q?q.whatsnext:false,v=q?q.toaster:false;if(r==="right"&&p){k.trigger("addthis.layers.whatsnext.hide",c,this);}if(r==="right"&&v){k.trigger("addthis.layers.toaster.hide",c,this);}k.addClass("at4-drawer-shown",s.container);k.addClass(j.hideClass,s.openControl);if(w.animationType==="push"){l(function(){if(k.isElement(u)){k.addClass("at4-drawer-push-animation-"+r,u);k.addClass("at4-drawer-push-content-"+r+"-back",u);k.requestTimeout(function(){k.addClass("at4-drawer-push-content-"+t,u);},0);}k.removeClass(j.hideClass,m);k.removeClass("at4-drawer-push-animation-"+r,m);k.removeClass("at4-drawer-push-animation-"+r+"-back",m);k.requestTimeout(function(){k.addClass("at4-drawer-push-animation-"+r,m);},0);});}else{s.show(s.element,w.showAnimation);}j.drawerIsVisible=true;_ate.track.avpc(this.pco,"ttnl="+s.options.maxitems);},hidedrawer:function(){var r=this,v=r.options,m=r.element,u=r.openControl,t=d("html")[0],n=v.animationType,q=r.position,p=j.hideClass,s=q==="left"?"right":"left";if(v.animationType==="push"){l(function(){if(k.isElement(t)){k.addClass("at4-drawer-push-content-"+q+"-back",t);k.requestTimeout(function(){k.removeClass("at4-drawer-push-content-"+s,t);},0);}k.requestTimeout(function(){k.addClass("at4-drawer-push-animation-"+q+"-back",m);},0);r.show(u);});}else{r.hide(m,v.hideAnimation,function(){r.show(u);});}k.requestTimeout(function(){k.removeClass("at4-drawer-shown",r.container);},600);j.drawerIsVisible=false;}});}(g.utils,g.setup,g.common,g.qwery,g.rAF,g.recommended);g.follow=function(k,b,j,d){return b.addthisWidget("follow",{create:function(){var l=this,m=l.options||false;if(k.isPlainObject(m.services)){m.services=k.toArray(m.services);}if(!m||!m.services||!m.services.length){l.status="disabled";}l.superMethod("create");return this;},device:"desktop",pco:"smlfw-1.0",status:"open",locked:false,plugin:true,element:"#at4-follow",closeControl:"#at4-fcc",openControl:"#at4-foc",events:{"!.at4-follow-outer mouseenter":function(m,l){this.showControl(this.closeControl);},"!.at4-follow-outer mouseleave":function(m,l){this.hideControl(this.closeControl);},"!#at4-fcc click":function(m,l){k.trigger("addthis.layers.follow.hide",c,this);this.locked=true;k.preventDefaultEvent(m);},"!#at4-foc click":function(m,l){k.trigger("addthis.layers.follow.show",c,this);this.locked=true;k.preventDefaultEvent(m);},"addthis.layers.follow.show":function(p,n){var m=this,l=m.options;m.hide(m.openControl,l.hideAnimation);m.show();m.status="open";},"addthis.layers.follow.hide":function(p,n){var m=this,l=m.options;m.hide();m.show(m.openControl,l.showAnimation);m.status="closed";},".at-follow-btn keydown":function(n,m){if(k.KEYCODES[n.keyCode]==="enter"){var l=this.events[".at-follow-btn click"].call(this,n,m.childNodes[0]);if(l.svc==="twitter"){k.preventDefaultEvent(n);}}},".at-follow-btn click":function(q,p){var n=k.attr(p.childNodes[0],"svc"),r=k.attr(p.childNodes[0],"svcId"),m=this.pco,l={service:n,id:r,pco:m};this.superMethod("follow",n,l,m);if(n==="twitter"){k.preventDefaultEvent(q);}return l;}},generateJson:function(){var p={},m=[],t=[],n={},q={},y=this.options||{},u=this.themes[y.theme]?this.themes[y.theme]:"",w,A=k.filter(y.services,function(s){if(s.id&&s.service){return s;}}),C;if(!A||!A.length){return false;}n["div#at4-foc.at-follow-open-control"+u+"."+j.hideClass]={"div.at4-arrow.at-left":{html:"Show",title:"Show"}};q["div#at4-fcc.at4-arrow.at-right"]={html:"Hide",title:"Hide"};m.push({"div#at4-fcc.at4-follow-close-control":q});if(y.title){t.push({"span.at-follow-label":y.title});}for(C in A){if(A.hasOwnProperty(C)){var v={},x=A[C].service,B=A[C].id,l=A[C].usertype,r=_ate.share.gfu(x,B,l),z=k.isIEQuirksMode()?"q":"";if(x&&B&&r){v["span.at4-icon-fw.aticon-"+x+z]={html:this.followServices[x]||"",svc:x,svcId:B,title:"Follow on "+this.followServices[x]};if(x==="rss"){v.href=B.indexOf("http")!==0?"http://"+B:B;v.target="_blank";}else{if(x!=="twitter"){v.href=r;v.target="_blank";}else{v.href="//twitter.com/"+B;}}t.push({"a.aticon.at-follow-btn":v});}}}m.push({"div.at4-follow-container.addthis_24x24_style":t});p["div#at4-follow.at4-follow.at4-follow-24"+u]={role:"region","aria-labelledby":"at4-follow-label","h2#at4-follow-label":{html:"Follow"},"div.at4-follow-inner":m};w=[p,n];return{"div.at4-follow-outer":w};}});}(g.utils,g.setup,g.common,g.qwery);g.followtoolbox=function(k,b,j,d){return b.addthisWidget("followtoolbox",{create:function(){this.superMethod("create");var l=[];if(this.options&&this.options.services){k.each(this.options.services,function(n,m){l.push(m.service);});}this.superMethod("getServiceCSS",l);},pco:"flwh-1.0",device:"both",element:"#atftbx",services:[],personalized:true,multipleCalls:true,inline:true,showOnLoad:true,sizeClass:{small:"addthis_16x16_style",medium:"addthis_20x20_style",large:"addthis_32x32_style"},orientationClass:{horizontal:"addthis_default_style",vertical:"addthis_vertical_style"},generateElement:function(){var z=this.options||{},n=z.orientation||"horizontal",y=z.size||"large",t=z.shape||"round",s=z.theme,v=t==="round"&&s==="custom"?"circular":"",l=z.background||"#666",u="at"+this.name+"bg",w=k.filter(z.services,function(C){if(C.id&&C.service){var D=C.service,E=C.id,B=_ate.services.getName(D),A=C.usertype,m=_ate.share.gfu(D,E,A);if(!D||!E||!m){return false;}else{C.svc=C.service;C.name=B;C.url=m;return true;}}}),p=this.sizeClass[y],x=this.orientationClass[n],q=k.emdot,r;if(n==="vertical"){this.pco=this.pco.replace("flwh","flwv");}if(s==="custom"){this.pco="c"+this.pco;p="addthis_32x32_white_style";r=d("#"+u);if(!r||r.length===0){k.updateStyleSheet(".at-follow-tbx-element ."+p+" .at15nc.at300bs {background-color:"+l+"}",u);}}return q.div(q.p(q.span(this.options.title)),q.div(q(w,function(m){return q.a(q.span(q.span("Follow on "+m.name).css("at_a11y")).css("at300bs at15nc at15t_"+m.svc),q.span(m.name).css("addthis_follow_label")).css("addthis_button_"+m.svc+"_follow at300b").data("svc",m.svc).data("svc-id",m.id).attr("title","Follow on "+m.name).attr("href",m.svc==="twitter"?"//twitter.com/"+m.id:m.url).attr("target",m.svc!=="twitter"?"_blank":null);}),q.div().css("atclear")).css("addthis_toolbox",x,p,v)).id(this.element.substring(1)).css("at-follow-tbx-element").element;},events:{"a click":function(q,p){var n=k.attr(p,"data-svc"),r=k.attr(p,"data-svc-id"),m=this.pco,l={service:n,id:r,pco:m};this.superMethod("follow",n,l,m);if(n==="twitter"){k.preventDefaultEvent(q);}return l;}}});}(g.utils,g.setup,g.common,g.qwery);g.GradualCount=function(d){var b=function(j){j=j||{};this.start=parseInt(j.start,10)||0;this.current=this.start;this.end=parseInt(j.end,10)||0;this.duration=j.duration||1000;this.listeners={};this.startTime=Date.now();this.step();};b.prototype.step=function(){var j=this;d(function(){var k=Date.now()-j.startTime;j.current=Math.min(j.end,k/j.duration*j.end);j.trigger("step",j.current);if(j.current!=j.end){j.step();}else{j.trigger("done",j.current);}});};b.prototype.on=function(j,k){if(this.listeners[j]===i){this.listeners[j]=[k];}else{this.listeners[j].push(k);}};b.prototype.off=function(j,k){if(k===i){this.listeners[j]=[];}else{if(this.listeners[j]){this.listeners[j].splice(this.listeners[j].indexOf(k),1);}}};b.prototype.trigger=function(j,m){var k=Array.prototype.slice.call(arguments,1),l;if(this.listeners[j]){for(l=0;l<this.listeners[j].length;l++){this.listeners[j][l].apply(this,k);}}};return b;}(g.rAF);g.share=function(k,b,j,d){return b.addthisWidget("share",{create:function(){var l=this.options,n=function(){if(e.addthis_config&&k.isPlainObject(e.addthis_config)){return e.addthis_config.services_exclude||"";}return"";}(),m={};this.superMethod("create");if(l.services){this.personalized=false;this.services=l.services.replace(/ /g,"").split(",");l.numPreferredServices=this.services.length;}else{this.services=this.preferredServices;}this.superMethod("getServiceCSS",this.services);if(k.isString(n)){n=n.split(",");k.each(n,function(q,p){p=k.trim(p);m[p]=true;});this.options.services_exclude=m;}return this;},pco:"smlsh-1.0",device:"desktop",status:"open",element:"#at4-share",closeControl:"#at4-scc",openControl:"#at4-soc",controlContainer:".at-share-close-control",position:"left",services:[],personalized:true,hideClass:"at4-hide-content",showClass:"at4-show-content",events:{mouseover:function(){this.showControl(this.closeControl,this.controlContainer);},mouseout:function(){this.hideControl(this.closeControl,this.controlContainer);},"#at4-scc click":function(l){_ate.ed.fire("addthis.layers.share.hide",c,this);k.preventDefaultEvent(l);},"!#at4-soc click":function(l){_ate.ed.fire("addthis.layers.share.show",c,this);k.preventDefaultEvent(l);},"addthis.layers.share.show":function(){this.hide(this.openControl,this["options"].hideAnimation);this.show();this.status="open";},"addthis.layers.share.hide":function(){this.hide();this.show(this.openControl,this["options"].showAnimation);this.status="closed";},".at4-share-btn click":j.commonEventHandlers.share.buttonClick},generateElement:function(){var l=this.getShareServices(),r=this.options||{},D=this.themes[r.theme]?this.themes[r.theme].substring(1):"",C=this.position==="right",u=C?"left":"right",B="atss",s=C?B+"-right":B+"-left",t=!_ate.bro.ie6&&!_ate.bro.ie7&&!k.isIEQuirksMode()&&(r.counts===true||r.counts==="true"),p=this.hideClass,v=this.options.label||this.options.title,E=this.position.toLowerCase(),x=this.openControl.substring(1),w=this.closeControl.substring(1),A=this,q,n,y,z=k.emdot;k.each(l,function(F,m){if(!A.shownServices){A.shownServices=[];}A.shownServices.push(m.svc);});q=z.div(z.div("Show").css("at4-arrow","at-"+u)).id(x).css("at-share-open-control-"+E,D,"at4-hide").attr("title","Show");n=z.div(z.div("Hide").css("at4-arrow","at-"+E)).id(w).css("at-share-close-control",D,p,"at4-show").attr("title","Hide");y=z(l,function(m){var G=m.svc,F=m.name,H=t&&k.shareCounters.requests.services[G];return z.a(z.span(F).css("at300bs","at15nc","at15t_"+G).attr("title",F),H?z.div(z.span().css("at4-share-count")).css("at4-share-count-container",p):null).css("at4-share-btn","at-svc-"+G).attr("href","#");});return z.div(z.h2("AddThis Sharing").id("at4-share-label"),z.div(v?z.div(v).css("at4-share-title"):null,y,n).id("at4-share").css("addthis_32x32_style",B,s),q).css("at4-share-outer"+(C?"-right":"")).attr("aria-labelledby","at4-share-label").attr("role","region").element;},renderShareCounts:function(s){var m=this,t=this.hideClass,l,r,n,p,q=m.elementSelector;k.each(s,function(u,v){l=v.service;r=v.count;if(k.isString(l)&&l.length&&k.isNumber(r)&&r>0){element=d(q+" .at-svc-"+l+" .at4-share-count")[0];if(k.isElement(element)){n=_ate.util.parent(element,".at4-share-btn");if(n!==h&&n!==h.body&&k.isElement(n)){k.addClass("at4-share-count-anchor",n);}element.appendChild(h.createTextNode(k.truncateCount(r)));}}});p=d(q+" .at4-share-count-container");if(p.length){k.each(p,function(u,v){k.removeClass(t,v);m.show(v,"fadeIn",function(){k.removeClass("fadeIn",v);});});}}});}(g.utils,g.setup,g.common,g.qwery);g.jumboshare=function(p,d,l,k,b,n,j){return d.addthisWidget("jumboshare",{create:function(){var m=new _ate.resource.Resource("widget32whitecss",_atc.rsrcs.widget32whitecss);m.load();j.create.call(this);},pco:"jsc",device:"both",basename:"jumboshare",element:"#at-jumboshare",mobileClass:"at4-mobile",services:[],shownServices:[],inline:true,showOnLoad:true,multipleCalls:true,personalized:true,events:{".at4-share-btn click":l.commonEventHandlers.share.buttonClick,"addthis.layers.resize":function(){if(this.basename!=="jumboshare"){return;}if(p.getCurrentDevice(this)==="desktop"&&p.hasClass(this.mobileClass,this.element)){p.removeClass(this.mobileClass,this.element);}else{if(p.getCurrentDevice(this)==="mobile"&&!p.hasClass(this.mobileClass,this.element)){p.addClass(this.mobileClass,this.element);}}}},generateElement:function(){var s=this.options||{},q=s.color||"#555B64",m=this.elementSelector.substring(1),u="at-"+p.generateUUID(),r=this.options.label||this.options.title,t=p.getCurrentDevice(this)==="mobile"?this.mobileClass:"";this.shownServices=[];p.each(this.getShareServices(),function(w,v){this.shownServices.push(v);},this);this.counter=b.span(0).element;this.spacer=b.span(0).css("at4-spacer").element;return b.div(b.div(b.h2("AddThis Sharing").id(u).css("at4-hide"),b.table(b.tr(b.td(b.div(this.spacer,this.counter).css("at4-count").style("color:"+q),b.div(r).css("at4-title").style("color:"+q)).css("at4-count-container"),b.td(b(this.shownServices,function(v){return b.a(b.div().css("at15nc","at300bs","at15t_"+v.svc),b.span(v.name)).css("at4-share-btn","at-svc-"+v.svc).href("#");})).css("addthis_32x32_white_style","at4-share-container")))).id(m).css(t)).css("at4-jumboshare").aria("labelledby",u).role("region").element;},renderShareCounts:function(s){var r=0,m=this,t,q;p.each(s,function(v,u){if(!u.error){r+=Number(u.count);}});t=document.createTextNode("88.8K");while(m.spacer.firstChild){m.spacer.removeChild(m.spacer.firstChild);}m.spacer.appendChild(t);q=new n({end:r});q.on("step",function(u){var v=document.createTextNode(p.truncateCount(u));while(m.counter.firstChild){m.counter.removeChild(m.counter.firstChild);}m.counter.appendChild(v);});}});}(g.utils,g.setup,g.common,g.qwery,g.emdot,g.GradualCount,g.share);g.recommendedbox=function(k,b,j,d){return b.addthisWidget("recommendedbox",{create:function(){var m=this.options||{},l=m.orientation;if(l==="vertical"){this.pco="smlrebv-1.0";this.options.size="large";}this.superMethod("create");},pco:"smlrebh-1.0",element:"#at4-recommendedbox",inheritsFrom:"recommended",multipleCalls:true,plugin:true,inline:true,inlineClass:"addthis-recommendedbox",events:{"addthis.recommendedbox.destroy":function(){this.parentElement.__containsRecommended__=false;}}});}(g.utils,g.setup,g.common,g.qwery,g.recommended);g.recommendedside=function(k,b,j,d){return b.addthisWidget("recommendedside",{device:"desktop",plugin:true,position:"right",showPlaceholderImages:false,requiresImage:true,pco:"smlres-1.0",element:"#at-recommendedside",inheritsFrom:"recommended",closeControl:"#at4-recommendedside-close-control",openControl:"#at4-recommendedside-open-control",events:{"!#at4-recommendedside-close-control mouseenter":function(){this.showControl(this.closeControl);},".at-tli mouseover":function(){this.showControl(this.closeControl);},".at4-logo-container mouseover":function(){this.showControl(this.closeControl);},".at-recommended-label mouseover":function(){this.showControl(this.closeControl);},mouseleave:function(){this.hideControl(this.closeControl);},"!.at4-recommended-item mouseleave":function(){this.hideControl(this.closeControl);},"!.at-recommended-label mouseleave":function(){this.hideControl(this.closeControl);},"#at4-recommendedside-close-control click":function(){_ate.ed.fire("addthis.layers.recommendedside.hide",c,this);},"!#at4-recommendedside-open-control click":function(){_ate.ed.fire("addthis.layers.recommendedside.show",c,this);},"addthis.layers.recommendedside.show":function(){this.superMethod("animate",this.openControl,this.options.hideAnimation,function(){this.superMethod("animate",this.element,this.options.showAnimation);});this.status="open";},"addthis.layers.recommendedside.hide":function(){this.superMethod("animate",this.element,this.options.hideAnimation,function(){this.superMethod("animate",this.openControl,this.options.showAnimation);});this.status="closed";}},postEvents:function(){var l=this.options;if(k.isString(l.elements)&&l.elements.length&&k.isElement(this.container)){k.addClass("at4-recommendedside-inline",this.container);}_ate.track.avp(this.elementSelector,this.pco,"ttnl="+l.maxitems);}});}(g.utils,g.setup,g.common,g.qwery);g.responsiveshare=function(l,b,k,j,d){return b.addthisWidget("responsiveshare",{create:d.create,pco:"resh-1.0",device:"both",element:"#atrsb",services:[],personalized:true,multipleCalls:true,inline:true,showOnLoad:true,mobileClass:"at-mobile",menuOpen:false,events:{".at-share-btn click":k.commonEventHandlers.share.buttonClick,"addthis.layers.resize":function(){if(this.basename!=="responsiveshare"){return;}if(l.getCurrentDevice(this)==="desktop"&&l.hasClass(this.mobileClass,this.element)){l.removeClass(this.mobileClass,this.element);}else{if(l.getCurrentDevice(this)==="mobile"&&!l.hasClass(this.mobileClass,this.element)){l.addClass(this.mobileClass,this.element);}}},".at-svc-compact.at-share-btn mouseover":k.commonEventHandlers.share.showCompactMenu,"!.at-svc-compact.at-share-btn mouseleave":k.commonEventHandlers.share.hideCompactMenu},generateJson:function(){var n={},q=[],m=this,p=m.getShareServices();l.each(p,function(v,t){var w=t.svc,u=t.name,x={},s={},r={};s["span.at300bs.at15nc.at15t_"+w]={title:u};r["span.label"]={html:u,title:u};x["a.at-share-btn.at-svc-"+w]=[s,r];q.push(x);if(!m.shownServices){m.shownServices=[];}m.shownServices.push(w);});n["div"+m.elementSelector+".at-resp-share-element.addthis_32x32_style"+(l.getCurrentDevice(this)==="mobile"?"."+this.mobileClass:"")]=q;return n;}});}(g.utils,g.setup,g.common,g.qwery,g.share);g.sharedock=function(l,b,k,j,d){return b.addthisWidget("sharedock",{create:d.create,pco:"msd-1.0",device:"mobile",services:[],personalized:true,position:"bottom",element:"#at-share-dock",numServices:4,events:{".at-share-btn click":k.commonEventHandlers.share.buttonClick},generateJson:function(){var q,s={},v={},t={role:"region","aria-labelledby":"at-share-dock-label","h2#at-share-dock-label.at4-visually-hidden":{html:"AddThis Sharing"}},n=this,w=n.getShareServices(),r=n.position==="top",u=".atss",p=r?u+"-top":u+"-bottom",m=100/w.length;l.each(w,function(A,y){var B=y.svc,z=y.name,x;x=v["a.at-share-btn.at-svc-"+B]={href:"#",style:"width:"+m+"%;"};x["span.at300bs.at15nc.at15t_"+B]={title:z,html:z};});q=t["div#at-share-dock"+u+p+".addthis_32x32_style"]=v;s["div.at-share-dock-outer"+(r?"-top":"")]=t;return s;}});}(g.utils,g.setup,g.common,g.qwery,g.share);g.sharetoolbox=function(l,b,k,j,d){return b.addthisWidget("sharetoolbox",{create:d.create,pco:"tbx32-300",device:"both",element:"#atstbx",services:[],personalized:true,multipleCalls:true,inline:true,showOnLoad:true,sizeClass:{small:"",medium:".addthis_20x20_style",large:".addthis_32x32_style"},menuOpen:false,events:{".at-share-btn click":k.commonEventHandlers.share.buttonClick,".at-svc-compact.at-share-btn mouseover":k.commonEventHandlers.share.showCompactMenu,"!.at-svc-compact.at-share-btn mouseleave":k.commonEventHandlers.share.hideCompactMenu},generateJson:function(){var q={},w=[],m=this,r=m.options,C=r.size||"large",t=r.theme||false,p=r.background||"#666",u="at"+m.name+"bg",y=this.sizeClass[C],x=m.getShareServices(),v,n,B,z,A,s;if(!r.thirdPartyButtons){if(C==="small"){m.pco="tbx-300";}else{if(C==="medium"){m.pco="tbx20-300";}}if(t==="custom"){m.pco="c"+m.pco;y=".addthis_32x32_white_style";s=j("#"+u);if(!s||s.length===0){l.updateStyleSheet(".at-share-tbx-element"+y+" .at15nc.at300bs {background-color:"+p+"}",u);}}l.each(x,function(E,D){v=D.svc;n=D.name;B={};z={};z["span.at300bs.at15nc.at15t_"+v]={title:n};B["a.at-share-btn.at-svc-"+v]=[z];w.push(B);if(!m.shownServices){m.shownServices=[];}m.shownServices.push(v);});q["div"+m.elementSelector+".at-share-tbx-element"+y]=w;}else{m.pco="scopl-300";x=r.services.split(",");y=this.sizeClass.medium;l.each(x,function(E,D){v=D;B={};z={};A=".addthis_button_"+v;if(v==="facebook_like"){z={"fb:like:layout":"button_count"};}else{if(v==="facebook_share"){z={"fb:share:layout":"button_count"};}else{if(v==="pinterest_pinit"){z={"pi:pinit:layout":"horizontal"};}else{if(v==="google_plusone"){z={"g:plusone:size":"medium"};}else{if(v==="counter"){A=".addthis_counter.addthis_pill_style";}}}}}B["a"+A]=z;w.push(B);});q["div"+m.elementSelector+".at-share-tbx-element.addthis_default_style"+y]=w;}return q;},postEvents:function(){var m=this,n=this.options,q=e.addthis_config?f.clone(e.addthis_config):{},t=e.addthis_share?f.clone(e.addthis_share):{},s=this.getShareUrl(),p=this.getShareTitle(),u=this.getShareDescription(),r;q.product=m.pco||"";q.pubid=_ate.pub();t.url=s;t.title=p;t.description=u;if(n.thirdPartyButtons){c.toolbox(this.elementSelector,q,t);if(n.services.indexOf("counter")!==-1){r=j(".addthis_counter",m.element);if(r){c.counter(r[0],q,t);}}}return this;},renderShareCounts:function(s){var n=this,m,r,q,p,t=new _ate.resource.Resource("countercss",_atc.rsrcs.countercss);t.load();l.each(s,function(u,v){m=v.service;r=v.count;if(l.isString(m)&&m.length&&l.isNumber(r)&&r>0){p=j(".at-share-btn.at-svc-"+m,n.element);if(p&&p.length){q=f.json2html({"a.addthis_counter.addthis_bubble_style":[{"a.addthis_button_expanded":l.truncateCount(r)+""}]});p[0].parentNode.insertBefore(q,p[0].nextSibling);}}});}});}(g.utils,g.setup,g.common,g.qwery,g.share);g.thankyou=function(k,b,j,d){return b.addthisWidget("thankyou",{create:function(){_ate.dbm=1;return this;},POSTACTION_SURFACES:{share:{type:"share",display:"follow"},"share-follow":{type:"share",display:"follow"},"share-trending":{type:"share",display:"trending"},follow:{type:"follow",display:"trending"},"follow-trending":{type:"follow",display:"trending"}},pco:"smlty-1.0",device:"both",element:"#at4-thankyou",maxitems:4,lastShown:0,showOnLoad:false,blacklist:{mailto:true,email:true,pinterest_share:true,pinterest:true,thefancy:true,more:true,link:true},events:{"addthis.menu.share":function(p,n){if(j.active_layers.addthis.share){var m=j.active_layers.addthis.follow,l=m?m.options.services:false;if(m&&l&&l.length){this.triggerPostActionEvent(p,"share-follow");}else{this.triggerPostActionEvent(p,"share-trending");}}},"addthis.menu.follow":function(m,l){if(j.active_layers.addthis.follow){this.triggerPostActionEvent(m,"follow-trending");}},"addthis.menu.shareimg":function(m,l){this.triggerPostActionEvent(m,"share",true);},"addthis.thankyou.hold":function(m,l){this.hold=true;},"addthis.postaction":function(s,r){var q=this,m=q.options;if(q.lastShown||(s.data.service=="pinterest_share"||s.data.service=="pinterest")||k.isPlainObject(s.data)&&k.isString(s.data.type)&&(m.layers[q.POSTACTION_SURFACES[s.data.type].type]||{}).thankyou===false){return;}else{q.lastShown=new Date().valueOf();}if(s&&s.data&&s.data.service&&s.data.type){var l=s.data.service,p=s.data.type,n="";k.removeChildren(d("#at4-thankyou .at4-thankyou-layer")[0]);n=this.POSTACTION_SURFACES[p].display;p=this.POSTACTION_SURFACES[p].type;if(q.hold){q.hold=!this.hold;}else{q.display(p,n);}}},click:function(m,l){if(k.isVisible(this.element)){this.hide();}this.hold=false;},".at4-close click":function(m,l){k.preventDefaultEvent(m);},".at4x click":function(m,l){k.preventDefaultEvent(m);},"addthis.keydown.esc":function(m,l){this.hide();},".at-follow-btn click":function(q,p){var n=k.attr(p.childNodes[0],"svc"),r=k.attr(p.childNodes[0],"svcId"),m=this.pco,l={service:n,id:r,pco:m};this.superMethod("follow",n,l,m);k.trigger("addthis.thankyou.hold",addthis,{action:"share/follow"});if(n==="twitter"&&!k.mobile()){k.preventDefaultEvent(q);}}},customEvents:{},triggerPostActionEvent:function(r,p,n){if(r&&r.data&&r.data.service){var l=r.data.service,q={},s,m;if(l){if(!this.blacklist[l]||n){if(k.isVisible(d("#at3win")[0])){c.menu.close();}s=h.activeElement.nodeName.toLowerCase();if(h.activeElement&&s==="iframe"){if("activeElement"in h){e.focus();h.activeElement.blur();}}m=function(){k.trigger("addthis.postaction",addthis,{service:l,type:p});if(!k.mobile()){if("onfocusin"in h){h.onfocusin=null;}else{k.listenTo({elem:"window",ev:"focus",callback:m,type:"remove"});}}};if(!k.mobile()){if("onfocusin"in h){h.onfocusin=m;}else{k.listenTo({elem:"window",ev:"focus",callback:m,type:"add"});}}else{m();}}}else{this.hide();}}},display:function(m,l){if(!this.title||!this.description){this.title=d("#at4-thankyou .thankyou-title")[0];this.description=d("#at4-thankyou .thankyou-description")[0];}var p=this.title,n=this.description;k.addClass("at-thankyou-shown",this.element);if(m&&p&&n){k.bindEvents.call(this,this.customEvents,"remove");if(m==="share"){p.innerHTML="";n.innerHTML="";switch(l){case"follow":this.postactionFollow();break;case"trending":p.innerHTML=this.options.layers.share.postShareTitle;n.innerHTML=this.options.layers.share.postShareRecommendedMsg;this.postactionTrending();break;}}else{if(m==="follow"){switch(l){case"trending":p.innerHTML=this.options.layers.follow.postFollowTitle;n.innerHTML=this.options.layers.follow.postFollowRecommendedMsg;this.postactionTrending();break;}}}}},postactionFollow:function(){var l=this.generateFollowHtml();if(l){d("#at4-thankyou .at4-thankyou-layer")[0].appendChild(l);}this.superMethod("hideControl",d("#at4-palogo")[0]);this.superMethod("hideControl",d("#at4-paprivacy")[0]);this.superMethod("hideControl",d(".at4x")[0]);this.show();},postactionTrending:function(){this.superMethod("showControl",d("#at4-palogo")[0]);this.superMethod("showControl",d("#at4-paprivacy")[0]);this.superMethod("showControl",d(".at4x")[0]);var n=this,m=this.superMethod("generateTrendingJson",this.pco,4),l=n.element,p=k.extend(n.options,{elements:"#at4-thankyou .at4-thankyou-layer",size:"large",title:"",maxitems:4});if(m.length){k.addClass(j.hiddenClass,l);k.removeClass(j.hideClass,l);addthis.layers({recommendedbox:p,pi:true},function(){k.addClass(j.hideClass,l);k.removeClass(j.hiddenClass,l);n.show();});}else{return false;}},generateJson:function(){var l={},m=this.themes[this.options.theme]?this.themes[this.options.theme]:"";l["div#at4-thankyou.at4-thankyou.at4-thankyou-background."+j.hideClass+m+(k.mobile()?" .at4-thankyou-mobile":".at4-thankyou-desktop")]={role:"dialog","aria-labelledby":"at-thankyou-label","div.at4lb-inner":{"a.at4x":{href:"#",title:"Close"},"a#at4-palogo.at4-logo":{href:"//www.addthis.com/?utm_source=dynpo&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",html:"AddThis",title:"AddThis",target:"_blank"},"a#at4-paprivacy.at4-privacy":{href:"//www.addthis.com/privacy/privacy-policy",html:_ate._t("Privacy",24),title:_ate._t("Privacy",24),target:"_blank"},"div.at4-thankyou-inner":{"h1#at-thankyou-label.thankyou-title":"","h3.thankyou-description":"","div.at4-thankyou-layer":""}}};return l;},generateFollowHtml:function(){var s={},m=this.options.layers||{},p=m.follow||{},l=p.services||[],r=this.superMethod("generateFollowJson",l),n=h.location.host,q=this.themes[this.options.theme]?this.themes[this.options.theme]:"";if(!r){return false;}s["div.at4win"+q]={"div.at4win-wrapper":[{"div.at4win-header":[{h3:n},{"a.at4-close":{href:"#",html:"X",title:"Close"}}]},{"div.at4win-content":{"div.at4-thanks":[{h2:m.share.postShareTitle},{"div.at4-thanks-icons":[{label:m.share.postShareFollowMsg},{"div.at-follow.at-follow-32":{"div.at44-follow-container.addthis_32x32_style":r}}]}]}},{"div#at4win-footer":[{"a.at4-logo":{href:"//www.addthis.com/?utm_source=dynpo&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",html:"AddThis",title:"AddThis",target:"_blank"}},{"a.at4-privacy":{href:"//www.addthis.com/privacy/privacy-policy",html:_ate._t("Privacy",24),title:_ate._t("Privacy",24),target:"_blank"}}]}]};return f.json2html(s);},hide:function(){this.superMethod("hide",this.element,this.hideAnimation,function(){k.removeClass("at-thankyou-shown",this.element);});}});}(g.utils,g.setup,g.common,g.qwery);g.whatsnext=function(k,b,j,d){return b.addthisWidget("whatsnext",{render:function(){this.queueTrending(this.options.pubid,this.options.domain,function(){this.superMethod("render");});return this;},pco:"smlwn-1.0",device:"desktop",async:true,position:"bottom",status:"closed",locked:false,element:"#at4-whatsnext",contentElement:".at-whatsnext-content",closeControl:"#at4-wncc",openControl:"#at4-wnoc",showPlaceholderImages:false,events:{mouseenter:function(m,l){this.showControl(this.closeControl);},mouseleave:function(m,l){this.hideControl(this.closeControl);},"#at4-wncc click":function(m,l){k.trigger("addthis.layers.whatsnext.hide",c,this);this.locked=true;},"!#at4-wnoc click":function(m,l){k.trigger("addthis.layers.whatsnext.show",c,this);this.locked=true;},"addthis.layers.scroll":function(s,p){var n=k.pageHeight(),r=k.scrollTop(),m=k.scrollPercentage(),q=1000,l=4000;if(!this.locked&&j.drawerIsVisible!==true){if(r<q&&n>l||m<0.25){k.trigger("addthis.layers.whatsnext.hide",c,this);}else{if(r>q||m>0.25){k.trigger("addthis.layers.whatsnext.show",c,this);}}}},"addthis.layers.whatsnext.show":function(m,l){if(!k.hasClass(j.showClass,this.element)&&!k.isVisible(this.element)){this.hide(this.openControl,this.options.hideAnimation);this.show();this.status="open";_ate.track.avpc(this.pco,"ttnl=1");}},"addthis.layers.whatsnext.hide":function(m,l){if(!k.hasClass(j.hideClass,this.element)&&k.isVisible(this.element)){this.hide();this.show(this.openControl,this.options.showAnimation);this.status="closed";}}},prerender:function(){var l={"div.at4-whatsnext-outer-container":""};return f.json2html(l);},generateJson:function(){var u={},l={},p=[],v={},t="",r=this.options,n=this.themes[r.theme]?this.themes[r.theme]:"",m=r.title||r.recommendedTitle,s={},q;l=this.buildTrending();if(l.isSponsored){m="Promoted Content";}if(!l){return false;}if(l.image){s["div.at-whatsnext-content-img"]={a:{id:"at-whatsnext-img-lnk",surface:"whatsnext",href:l.url||"#",img:{id:"at-whatsnext-img",src:l.image,alt:l.title,title:l.title,"data-secure":l.image._secureimage?"true":""}}};p.push(s);}else{t=".at-whatsnext-nophoto";}p.push({"div.at-whatsnext-content-inner":[{h6:m},{h3:[{"a.at-whatsnextTitle":{id:"at-whatsnext-link",href:l.url||"#",html:l.title||"",title:l.title}}]},{small:{id:"at-whatsnext-dom",html:l.domain||""}}]});p.push({"a.at4-logo":{href:"//www.addthis.com/?utm_source=dynto&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",target:"_blank",html:"AddThis",title:"AddThis"}});u["div#at4-whatsnext.at4-whatsnext "+t+n]={role:"region","aria-labelledby":"at4-whatsnext-label","h2#at4-whatsnext-label":{html:"AddThis What's Next"},"div.at-whatsnext-content":p,"div#at4-wncc.at-whatsnext-close-control.at4-arrow.at-down.at4-hide":{html:"Hide",title:"Hide"}};v["div#at4-wnoc.at-whatsnext-open-control.at4-arrow.at-up."+j.hideClass]={html:"Show",title:"Show"};q=[u,v];return{"div.at4-whatsnext-outer":q};},buildTrending:function(){if(!this.feeds[this.options.pubid+this.options.domain]){return false;}var m=this.options,p=this.feeds[this.feedName()]=this.feeds[m.pubid+m.domain],l=false,q=k.isPlainObject(m.promotedUrls)?k.toArray(m.promotedUrls):k.isString(m.promotedUrls)&&m.promotedUrls.length?[m.promotedUrls]:m.promotedUrls||[],r=q.length>0?true:false,n=false;if(r){k.each(q,function(s,t){if(k.isString(t)){q[s]=k.stripHashFromPath(t);}else{if(k.isPlainObject(t)&&t._atType===1){l={title:t.name,url:t.url,image:t.thumbnail.length?t.thumbnail[0].url:"",promoteToLayer:true,isSponsored:true,domain:t.branding};n=true;}}});k.each(p,function(u,t){var s=k.stripHashFromPath(t.url);if(k.indexOf.call(q,s)!==-1&&!n){t=k.cloneObject(t);t.promoteToLayer=true;l=t;n=true;}});}if(!n){p.repeat=p.repeat?p.repeat:1;l=this.feedItem({repeat:p.repeat,sort:function(t,s){return!!t.image?!!s.image?0:-1:1;}});}if(l&&l.url){this.normalizeTrendingItem(l,{itemCount:1,pos:0});return l;}else{return false;}},postEvents:function(){var m=this,n=d(".at-whatsnextTitle"),l=d("#at-whatsnext-img");m.superMethod("imageResizer",n,l);m.superMethod("postEvents");}});}(g.utils,g.setup,g.common,g.qwery);g.toaster=function(l,b,k,j,d){return b.addthisWidget("toaster",{pco:"tst-1.0",element:"#at4-toaster",inheritsFrom:"whatsnext",multipleCalls:true,plugin:true,locked:false,status:"closed",closeControl:"#at4-toaster-close-control",openControl:"#at4-toaster-open-control",showPlaceholderImages:true,events:{mouseenter:function(n,m){this.showControl(this.closeControl);},mouseleave:function(n,m){this.hideControl(this.closeControl);},"addthis.layers.scroll":function(t,q){var p=l.pageHeight(),s=l.scrollTop(),n=l.scrollPercentage(),r=1000,m=4000;if(!this.locked&&k.drawerIsVisible!==true){if(s<r&&p>m||n<0.25){l.trigger("addthis.layers.toaster.hide",c,this);}else{if(s>r||n>0.25){l.trigger("addthis.layers.toaster.show",c,this);}}}},"!#at4-toaster-close-control mouseenter":function(n,m){this.showControl(this.closeControl);},"#at4-toaster-close-control click":function(n,m){_ate.ed.fire("addthis.layers.toaster.hide",c,this);this.locked=true;},"!#at4-toaster-open-control click":function(n,m){_ate.ed.fire("addthis.layers.toaster.show",c,this);this.locked=true;},"addthis.layers.toaster.show":function(m){if(!l.hasClass(k.showClass,this.element)&&!l.isVisible(this.element)){this.hide(this.openControl,this.options.hideAnimation);this.show();this.status="open";_ate.track.avpc(this.pco,"ttnl=1");}},"addthis.layers.toaster.hide":function(m){if(!l.hasClass(k.hideClass,this.element)&&l.isVisible(this.element)){this.hide();this.show(this.openControl,this.options.showAnimation);this.status="closed";}}},generateJson:function(){var x=this,q=x.options,H=q.title||"",u=q.promotedUrls?q.promotedUrls[0]:false,G=u?l.isPlainObject(u)&&u._atType===1:false,F=q.promotedUrls,w=q.size==="medium"?".at-medium":"",s=this.inlineClass?".at-inline":"",v=x.maxitems||2,I=".at4-recommended-"+x.name+(x.options.textonly===true||x.options.textonly==="true"?" .at4-recommended-text-only":""),z=".at4-recommended-horizontal-logo",r=x.trendingLinksJson=x.superMethod("generateTrendingJson",x.pco,v),p={role:"region","aria-labelledby":"at-recommended-label"},B={},y={},E=k.themes[q.theme]?k.themes[q.theme]:"",A=q.animationType?"."+x.basename+"-"+q.animationType:"",D={},m={},C={},n=x.position==="bottom"?"up":x.position==="left"?"right":"left",t=[];if(r&&r.length){if(H){p["h3.at-recommended-label"+E]={html:H};}else{p["h3.at-recommended-label."+k.hiddenClass]={html:"AddThis Recommended"};}if(x.showCloseButton===true){p["button.at4-closebutton."+x.basename+"-close"]={html:"x",title:"Close"};}p[".at4-recommended-container"]=r;p[".at-logo"+z]={".at4-logo-container":{"a#at-privacy.at4-logo":{href:"//www.addthis.com/?utm_source=dyntr&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",target:"_blank",html:"AddThis"}}};if(x.closeControl){D[".at4-arrow.at-"+(x.position==="bottom"?"down":x.position)]={title:"Close"};p["#at4-"+x.basename+"-close-control.at4-"+x.basename+"-control."+k.hideClass]=D;}B[x.elementSelector+".at4-recommended.at-down"+A+E+I+w+s]=p;_ate.track.avp(x.elementSelector,x.pco,"ttnl="+v);}else{B.div="";}if(x.openControl){m[".at4-arrow.at-"+n]={title:"Open"};C["#at4-"+x.basename+"-open-control.at4-"+x.basename+"-control."+k.hideClass]=m;}C=l.isEmptyObject(C)?false:C;if(C!==false){t.push(C);}t.push(B);y[".at4-"+x.basename+"-outer"]=t;return y;},postEvents:function(){var n=this,p=j(n.elementSelector+" .at-recommendedTitle"),m=j(n.elementSelector+" .at-tli");n.superMethod("imageResizer",p,m);n.superMethod("postEvents");}});}(g.utils,g.setup,g.common,g.qwery,g.recommended,g.whatsnext);g.warning=function(k,b,j,d){return b.addthisWidget("warning",{pco:"smlwrn-1.0",device:"both",element:"#at4-warning",showOnLoad:false,closeControl:"#at4-wcc",parentMarginTop:false,iframeWidth:false,iframeHeight:false,iframeStyle:false,plugin:true,events:{"addthis.layers.warning.show":function(s){var r=d("#at4-warning-iframe")[0],p=s.data.alertId,m=this.element.clientHeight,n=this.parentElement.currentStyle||window.getComputedStyle(this.parentElement),q=n.marginTop,l=new Date().getTime();r.src="http://usadmm.dotomi.com/dmm/servlet/dmm?reg_req=true&pid=4680&dres=iframe&mtg=0&comId=2394&ms="+this.iframeStyle+"&btg=1&mp=1&rwidth="+this.iframeWidth+"&rheight="+this.iframeHeight+"&pp=3&cg=2222&dtm_param_1="+(this.options.test?"AmberTest":"RON")+"&dtm_param_2="+(this.options.test?"96fdd894a4d560d4e15379baa960c270":"bc2ae68d4ae10411036ba78d73899497")+"&dtm_param_3="+p+"&dtm_param_4=&dtm_param_5=&rurl="+_euc(_atc.rsrcs.warning)+"&tz=300&cb="+l;this.parentMarginTop=q;k.setCSSAttr(this.parentElement,{marginTop:m+"px"});this.superMethod("animate",this.element,this["options"].showAnimation);},"#at4-acc click":function(m,l){k.trigger("addthis.layers.warning.hide",c,this);},"addthis.layers.warning.hide":function(){this.hide(this.element,this.options.hideAnimation,function(){k.setCSSAttr(this.parentElement,{marginTop:this.parentMarginTop});});},"addthis.layers.warning.hideNow":function(){k.setCSSAttr(this.element,{display:"none"});}},postEvents:function(){if(_ate.swl){k.trigger("addthis.layers.warning.show",c,{alertId:_ate.swl});_ate.swl=false;}else{if(this.options.test){k.trigger("addthis.layers.warning.show",c,{alertId:999});}}this.superMethod("postEvents");},generateJson:function(){var n={},q={},s={},r="",p=k.desktop()?"desktop":k.tablet()?"tablet":"phone",m=this.iframeWidth=k.desktop()?"728":k.tablet()?"468":"216",l=this.iframeHeight=k.desktop()?"90":k.tablet()?"60":"36";this.iframeStyle=k.desktop()?"18":k.tablet()?"1":"34";q["a#at4-acc.at-warning-x"]={html:"Close"};s["iframe#at4-warning-iframe"]={scrolling:"no",height:l+"px",frameborder:"0",width:m+"px",src:r,vspace:"0",hspace:"0",marginheight:"0",marginwidth:"0"};n["div#at4-warning.addthis-warning-layer.at-layer-"+p]=[q,s];return n;}});}(g.utils,g.setup,g.common,g.qwery);g.welcome=function(k,b,j,d,l){return b.addthisWidget("welcome",{updateExisting:function(p){var m=this,q=m.container,n;m.options=k.extend(m.options,p);n=f.json2html(m.generateJson(true));if(k.isElement(q)){q.innerHTML="";q.appendChild(n);}k.bindEvents.call(m,m.events,"remove");m.element=d("#at4-welcome")[0];k.bindEvents.call(m,m.events);},pco:"wmb-1.0",device:"both",element:"#at4-welcome",plugin:true,configurableClassNames:{actions:{base:"addthis_bar_action_elem",button:{base:"addthis_bar_button",share:"addthis_bar_button_share",follow:"addthis_bar_button_follow",link:"addthis_bar_button_link",email:"addthis_bar_button_email"},link:{base:"addthis_bar_link",share:"addthis_bar_link_share",follow:"addthis_bar_link_follow",link:"addthis_bar_link_link"}},devices:{mobile:"addthis_bar_mobile",desktop:"addthis_bar_desktop"},positions:{bottom:"addthis_bar_bottom",top:{base:"addthis_bar_top",fixed:"addthis_bar_fixed",absolute:"addthis_bar_absolute"}},rules:{match:"addthis_bar_match",no_match:"addthis_bar_no_match"}},events:{"addthis.welcome.show":function(n){var m=this;m.showBar();},"addthis.welcome.shown":function(r){var n=this,q=n.options,m=q.hideAfter,p=this.pco;if(k.isNumber(m)){m=m*1000;k.requestTimeout(function(){n.hideBar();},m);}if(n.showPixel===true){n.showPixel=false;_ate.track.apc(p);}},"addthis.welcome.hide":function(n){var m=this;m.hideBar();},".addthis_bar_x click":function(p,n){var m=this;m.hideBar();m.setClosedCookie();},".addthis_bar_action_elem click":function(p,n){var m=this;m.actionClick();},".addthis_bar_prevent_link_fire click":function(n,m){k.preventDefaultEvent(n);},"addthis.layers.scroll":function(){if(this.shownOnScroll===true||this.isInlineLayer===true){return;}var q=this,s="",w=q.options,p=w.showOnScrollTo,r=w.position,m=q.configurableClassNames,n=m.positions,v=k.scrollTop(),t=d(".at4-welcome-outer")[0],u=d("#at4-welcome")[0];if(k.isString(p)){if(!isNaN(p)&&parseFloat(p)>=0){p=parseFloat(p);}else{if(k.isElement(d(p)[0])){p=k.elementInViewport(p)?v:false;}else{if(p.indexOf("%")>0){p=parseFloat(p.replace("%",""));p=k.scrollPercentage()*100>=p?v:false;}else{if(p.indexOf("px")>0){p=p.replace("px","");}else{p=false;}}}}}if(p&&p>=0&&v>=p){k.removeClass(j.hideClass,t);k.removeClass(j.hideClass,u);k.removeClass(n.bottom,u);k.removeClass(n.top.fixed,u);k.removeClass(n.top.absolute,u);s=r==="bottom"?n.bottom:n.top.fixed;if(s!=""){k.addClass(s,u);}q.shownOnScroll=true;}}},actionClick:function(){var z=this,r=z.options,B=r.action,p=B.type,n=B.verb,v=B.listname,x=B.service||k.getTopService(),w=B.id,u=B.url||"",q=B.url_new_window,D=z.configurableClassNames,s=D.actions,E=s.button,y=s.link,t=this.pco,m={service:x,id:w,pco:t},C=d("input.addthis_bar_email_input")[0],A=k.isElement(C)?C.value:"";z.setCurrentConfig({touched:true});k.trigger("addthis.bar.click",z,z.getCurrentConfig());if(p==="email"){if(k.validation.validators.isEmail(A)){k.setCSSAttr(C,{"border-color":"#FFFFFF"});z.emailLogic({email:A,action:B});}else{k.setCSSAttr(C,{"border-color":"#FF0000"});}}else{if(n==="share"){z.superMethod("share",x,t);}else{if(n==="follow"&&w){if(x==="preferred"){x=k.getTopService();}z.superMethod("follow",x,m,t,true);}else{if(n==="link"){k.openWindow({url:u,new_window:q,focus:true});_ate.track.trl({data:{url:u,pco:t}});}}}}},emailProviders:{aweber:function(m,n){return"http://www.aweber.com/scripts/addlead.pl?email="+m+"&listname="+n;}},emailLogic:function(p){var q=this,s=encodeURIComponent(p.email),n=p.action,m=n.listname||"",v=(n.service||"").toLowerCase(),u=n.id,r=function(){if(q.emailProviders[v]){return q.emailProviders[v](s,m)||"";}else{return n.url||"";}}(),t=_ate.cookie.tag.toKV();r+=(r.indexOf("?")<0?"?":"&")+"EMAIL="+s+(t.length?"&AT_TAG="+t:"");q.updateExisting({message:"Your request is being processed...",animate:false,action:{type:"none"}});k.getUrl(r,function(){q.updateExisting({message:"Well done! You have successfully subscribed with "+decodeURIComponent(s),action:{type:"none"}});k.requestTimeout(function(){q.hideBar();},2500);});},hideBar:function(){var m=this,p=m.options,n=p.hideAnimation,q=m.element;l(function(){if(k.isElement(m.placeholder)){k.addClass(j.hiddenClass,m.placeholder);}if(k.isVisible(q)){m.hide(q,n,function(){k.trigger("addthis.welcome.hidden",{internal:true});});}});},showBar:function(){var m=this,p=m.options,n=p.delay,q=p.showAnimation,r=m.element;l(function(){if(k.isElement(m.placeholder)){k.removeClass(j.hiddenClass,m.placeholder);}if(!k.isVisible(r)){m.show(r,q,function(){k.trigger("addthis.welcome.shown",{internal:true});});}});},generateJson:function(){var E=this,M=E.configurableClassNames,C=M.devices,K=M.rules,v=M.positions,r=E.options,N=r.position,t=r.backgroundColor,F=r.rememberHide,w=r.showOnScrollTo,m=r.noGradient,x=r.fixed===true||r.fixed==="true",J=r.alwaysShow,A=J===true?true:E.isMatch,D=E.mobile,n=J===true?"":w===false?F===true?E.checkCookieHidden()?"."+j.hideClass:"":"":"."+j.hideClass,G=E.elementSelector,O=".addthis_bar",I=E.elementSelector+".addthis_bar_container",z=D?"."+C.mobile:"."+C.desktop,H=A?"."+K.match:"."+K.no_match,s=E.isInlineLayer===true?"":N==="bottom"?"."+v.bottom:x?"."+v.top.base+"."+v.top.fixed:"."+v.top.base+"."+v.top.absolute,L=G+I+O+z+H+s+n+(m===true||m==="true"?".addthis_bar_minimal":""),B=k.objectToStyle({background:t}),q={},p={},y=E.generateContentJson(r),u=m===true||m==="true"?"":k.gradients.cssString(t,m?0:0.05);if(s===""&&N==="bottom"){L+="."+v.bottom;}if(w&&!E.isInlineLayer){E.showOnLoad=false;}E.showOnScrollTo=function(){if(k.isNumber(w)){return w;}else{if(k.isString(w)){return+w.replace("px","");}else{if(k.isElement(w)){return k.scrollTop(w);}}}}();q[L]={style:B+u,"span.welcome-inner-container":[{"a.addthis_bar_logo_container":{href:"//www.addthis.com?utm_medium=link&utm_content=logo&utm_campaign=AT_main&utm_source=wmb",target:"_blank",".addthis_bar_logo":{title:"AddThis.com"}}},y,{"span.addthis_bar_x_container":{".addthis_bar_x":{title:"Hide"}}}]};if(A===false||F===true&&E.checkCookieHidden()){p[".at4-welcome-outer"]={};}else{p[".at4-welcome-outer"]=q;}return p;},postEvents:function(){var m=this,p=m.element,n=m.container,q=m.options,r=k.isPlainObject(q.action)?q.action:{},t={},s;t[".addthis_bar_placeholder"]="";s=f.json2html(t);if(q.coverPage===false&&!q.elements&&m.position==="top"){m.placeholder=s;}},generateContentJson:function(B){var s=this,A=B.message,w=B.textColor,z=B.buttonColor,v=B.noGradient,r=B.buttonTextColor,C=B.buttonBorderColor,m=B.linkTextColor,q={"p.addthis_bar_p":""},p=B.action,x=p.service||k.getTopService(),y=p.type||"button",u=p.verb,n=k.serviceTemplate(p.text,x),t=p.url||"";if(s.actionJson[y]){return s.actionJson[y].call(s,{message:A,textColor:w,buttonColor:z,noGradient:v,buttonTextColor:r,buttonBorderColor:C,linkTextColor:m,action_verb:u,action_text:n,action_type:y});}else{return q;}},actionJson:{button:function(u){var y=this,D={},F=y.configurableClassNames,r=F.actions,I=r.button,v=r.link,B=u.buttonColor,m=u.noGradient,s=m===true||m==="true"?"":k.gradients.cssString(B),n=u.buttonTextColor,G=u.buttonBorderColor,p=u.action_verb,q=u.action_type,t=u.action_text,z="p",C=".addthis_bar_p",w=p==="follow"?".addthis_bar_follow":p==="link"?".addthis_bar_link":".addthis_bar_share",H=z+C+w,E=k.objectToStyle({color:u.linkTextColor}),A=k.objectToStyle({color:u.textColor}),x=function(){var L={},K=k.objectToStyle({background:B,border:"1px solid "+G,color:n}),J={};K=K+s;if(q==="link"){if(p!=="share"&&p!=="follow"){L["a.addthis_bar_prevent_link_fire."+v.base+"."+v[p]+"."+r.base]={style:E,href:"#",html:u.action_text};}}else{if(q==="email"){J["button."+I.base+"."+I[p]+"."+r.base]={style:K,type:"button",html:t};L["span.email-container"]=[{"input.addthis_bar_email_input":{type:"text",placeholder:"Email Address"}},J];}else{if(q==="none"){L["span.addthis_bar_type_none"]="";}else{L["button."+I.base+"."+I[p]+"."+r.base]={style:K,type:"button",html:t};}}}return L;}();D[H]=[{"span.addthis_bar_message":{style:A,html:u.message}},x];return D;},link:function(n){var m=this;return m.actionJson.button.call(m,n);},email:function(n){var m=this;return m.actionJson.button.call(m,n);},none:function(n){var m=this;return m.actionJson.button.call(m,n);}},setCurrentConfig:function(p){if(!k.isPlainObject(p)){return;}var m=this,n=k.isPlainObject(m.currentShowConfig)?m.currentShowConfig:{};m.currentShowConfig=k.extend(n,p);},getCurrentConfig:function(){var m=this,n=k.isPlainObject(m.currentShowConfig)?m.currentShowConfig:{};return{matchedConfig:m.options,beenShown:n.beenShown,userHide:n.hiddenByExplicitHide,showCount:n.showCount,pco:m.pco};},checkCookieHidden:function(){var m=this,n=m.getRuleHash();if(!n){return false;}var p=_ate.cookie.rck("__atbar"+n),q=p?_ate.util.fromKV(p):{};if(q.h==="1"){return true;}return false;},getRuleHash:function(){var m=this,p=m.options,s=p.rules,r="",q,n;k.each(s,function(t,u){q=u;r+=","+q;});r=r.substring(1);n=_ate.mun(r);return n;},setClosedCookie:function(p){var m=this,n=m.getRuleHash();return _ate.cookie.sck("__atbar"+n,"h=1",0,1);}});}(g.utils,g.setup,g.common,g.qwery,g.rAF);g.whatsnextmobile=function(l,d,k,j,b,n){return d.addthisWidget("whatsnextmobile",{render:function(){this.queueTrending(this.options.pubid,this.options.domain,function(){this.superMethod("render");});return this;},pco:"wnm-1.0",device:"mobile",isWhatsNextMobile:true,showOnLoad:false,async:true,position:"bottom",status:"closed",locked:false,element:"#at4-whatsnextmobile",contentElement:".at-whatsnextmobile-content",closeControl:"#at4-wnmcc",showPlaceholderImages:false,events:{"#at4-wncc click":function(p,m){l.trigger("addthis.layers.whatsnextmobile.hide",c,this);this.locked=true;},"!#at4-wnoc click":function(p,m){l.trigger("addthis.layers.whatsnextmobile.show",c,this);this.locked=true;},"addthis.layers.scroll":function(s,q){var p=l.pageHeight(),r=l.scrollTop(),m=l.scrollPercentage();if(!this.locked&&k.drawerIsVisible!==true){if(m>0.25){l.trigger("addthis.layers.whatsnextmobile.show",c,this);}}},"addthis.layers.whatsnextmobile.show":function(p,m){if(this.status!=="open"){this.status="open";this.show();_ate.track.avpc(this.pco,"ttnl=1");}},"addthis.layers.whatsnextmobile.hide":function(p,m){console.log("hide");if(this.status!=="closed"){this.status="closed";this.hide();}}},generateElement:function(){var r=this.buildTrending(),p=this.options,q=k.themes[p.theme]?k.themes[p.theme].substring(1):"",m=p.title||p.recommendedTitle;if(r.isSponsored){m="Promoted Content";}if(!r){return false;}return b.div(b.h2("AddThis What's Next").id("at4-whatsnext-label"),b.div(b.button("\xd7").css("close").aria("hidden",true).type("button")).id("at4-wncc"),b.div(b.div(b.a(b.img().id("at-whatsnextmobile-img").data("secure",r.image._secureimage?"true":"").src(r.image).alt(r.title).title(r.title)).id("at-whatsnextmobile-img-lnk").href(r.url||"#").attr("surface","whatsnext")).css("at-whatsnext-content-img","col-2"),b.div(b.h6(m),b.h3(b.a(r.title).id("at-whatsnext-link").href(r.url||"#").title(r.title).css("at-whatsnextmobileTitle"))).css("at-whatsnext-content-inner","col-2")).css("at-whatsnext-content"),b.div(b.small(r.domain||"").id("at-whatsnext-dom"),r.isSponsored?b.small(b.a("Sponsored content by ",b.span().css("spacer"),b.a().css("at4-logo").href("//www.addthis.com/?utm_source=wnm&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main").target("_blank").title("AddThis")," Addthis").href("//www.addthis.com/?utm_source=wnm&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main").target("_blank").title("AddThis")):null).css("footer")).id("at4-whatsnextmobile").css("at4-whatsnext-outer",q).element;},buildTrending:n.buildTrending,postEvents:function(){var p=this,q=j(".at-whatsnextmobileTitle"),m=j("#at-whatsnextmobile-img");l.removeClass(k.hideClass,this.element.parentElement);l.removeClass(k.hideClass,this.element);l.addClass(this.hideClass,this.element);p.superMethod("resizeTrendingTitle",q[0]);p.superMethod("postEvents");l.addClass(k.hideClass,this.element);l.removeClass(k.showClass,this.element);}});}(g.utils,g.setup,g.common,g.qwery,g.emdot,g.whatsnext);g.mobilesharemenu=function(l,b,j,m,d,k){return b.addthisComponent("mobilesharemenu",{inheritsFrom:"mobile",showDock:false});}(g.utils,g.setup,g.common,g.iscroll,g.qwery,g.mobile);g.api=function(b,n,j,m,d){var l=j.layerList;publicMethods={};return function k(p,v){if(!arguments.length){return;}if(n.isString(p)&&n.isPlainObject(v)&&!n.isEmptyObject(v)){d.thirdPartyWidget.apply(this,arguments);return;}p=p||{};var u={},t={},s={_init:function(y,w){if(!k.initialized){this._globalEventHandlers();}var x=s._setDefaultOptions(y);s._createLayers(y,x,function(z){if(n.isFunction(w)){w(x,z);}});},_globalEventHandlers:function(){n.bindEvents(j.globalEvents||{});if(!n.mobile()){n.bindEvents(j.desktopEvents||{});}return this;},_setDefaultOptions:function(z){var y=n.cloneObject(j.defaultOptions),x=z.responsive,w=function(B,A){if(!n.isPlainObject(B)){return;}if(n.isPlainObject(A)){n.extend(B,A);}else{if(A===false){B.responsive=A;}else{if(n.isString(A)||n.isNumber(A)){n.extend(B,{responsive:{maxWidth:A}});}}}};y.domain=h.location.host;if(!n.mobile()&&x!==i){w(y,x);}n.each(z,function(A,B){w(B,B.responsive);});n.each(y,function(B,C){var A=C;if(z[B]||z[B]===""){if(n.isPlainObject(A)){n.extend(A,z[B]);}else{y[B]=z[B];}}});return y;},_createLayers:function(C,y,H){var A=C.responsive,G,E,w=n.mobile()?"mobile":"desktop",F=function(){var I={};n.each(l,function(J,K){if(J!=="addthis"){I[J]=K;}});return I;}(),z=[],D,B;if(C.showMobileOnDesktop===true){D=j.getAllLayers();}else{D=j.layers();}j.language=((e._atw||{}).conf||{}).ui_language||_ate.jlng()||"en";if(j.language!="en"){n.each(j.translationIds,function(J,I){n.each(I,function(L,K){if(j.defaultOptions[J]&&j.defaultOptions[J][L]){j.defaultOptions[J][L]=_ate._t(j.defaultOptions[J][L],K);}});});}n.each(D,function(I){if(C[I]){j.enabledLayers[I]=true;layersSpecified=true;B=D[I].split(",");n.each(B,function(K,J){if(C[J]!==false){if((!_ate.isProUser||_ate.isProUser&&J!=="mobile")&&l.addthis[J]&&l.addthis[J].plugin!==true||l.addthis[J]&&l.addthis[J].plugin===true&&C[J]!==i){u[J]=true;}}});}});if(!_ate.isProUser&&(n.isEmptyObject(C)&&C.mobile===i||C.share!==i&&C.share!==false||C.follow!==i&&C.follow!==false)&&C.responsive!==false&&w==="desktop"&&!_ate.bro.ie6&&!_ate.bro.ie7&&!n.isIEQuirksMode()){var x=C.mobile||true;u=n.extend(u,{mobile:true});C=n.extend(C,{mobile:x});}if(n.isPlainObject(F)){u=n.extend(n.cloneObject(F),u);}n.each(u,function(J){var K=J,N=l[K],M,L,I;if(F[K]){k[K]=k[K]||{};C[K]=C[K]||{};n.each(N,function(O,P){L=P;M=L.basename;I=L.eventnamespace;if(C[K][M]!==i&&C[K][M]!==false){if(!k[K][M]||L.multipleCalls===true){if(C[K]&&C[K][M]){if(C[K][M][w]!==false){z.push(M);if(n.isArray(C[K][M])){n.each(C[K][M],function(Q){n.trigger("addthis.layers"+I,{options:Q,extendedOptions:s._setDefaultOptions(Q)});});}else{n.trigger("addthis.layers"+I,{options:C[K][M],extendedOptions:y});}}}else{if(C[K][M]!==false){z.push(M);n.trigger("addthis.layers"+I,{options:C[K][M],extendedOptions:y});}}k[K][M]=true;}}});}else{if(!k[J]||l.addthis&&l.addthis[J]&&l.addthis[J].multipleCalls===true){if(C[J]){if(C[J][w]!==false){if(n.isArray(C[J])){n.each(C[J],function(O,P){z.push(J);n.trigger("addthis.layers."+J,{name:J,props:l.addthis[J],options:P,extendedOptions:s._setDefaultOptions(P)});});}else{z.push(J);n.trigger("addthis.layers."+J,{name:J,props:l.addthis[J],options:C[J],extendedOptions:y});}}}else{if(C[J]!==false){z.push(J);n.trigger("addthis.layers."+J,{name:J,props:l.addthis[J],options:C[J],extendedOptions:y});}}}k[J]=true;}});if(n.isFunction(H)){H(z);}},destroy:function(E){if(n.isUndefined(j.active_layers)){return;}var D,y=n.isString(E),H=(E||"").split("."),B=H.length>1?H[0]:"addthis",I=H.length>1?H[1]:E,z=j.active_layers,C,x,G,w,F,A;if(y&&(!z[B]||!z[B][I])){return"not an active layer";}C=y?[z[B][I]]:z[B];F=y?C.inlineClass?b("."+C.inlineClass):_ate.util.parent(C[0].element,".addthis-smartlayers")===h?[C[0].element]:[_ate.util.parent(C[0].element,".addthis-smartlayers")]:b(".addthis-smartlayers");n.each(C,function(K,J){if(n.isPlainObject(J)&&!n.isEmptyObject(J)){x=J.basename;G=J.element;w=n.extend(J.events||{},J.customEvents||{});n.trigger(B+"."+x+".destroy",c,{});n.bindEvents.call(J,w,"remove");k[x]=false;J.rendered=false;n.removeElement(J.openControl);n.removeElement(J.placeholder);}});n.each(F,function(J,K){G=K;n.removeElement(G);});if(y){j.active_layers[B]=j.active_layers[B]||{};if(j.active_layers[B][I]){delete j.active_layers[B][I];delete e.addthis.layers.active_layers[B][I];}if(n.isEmptyObject(j.active_layers)||!j.active_layers){j.active_layers={};e.addthis.layers.active_layers={};k.initialized=false;j.initialized=false;j.welcomeBarAndMobile.alreadyCompleted=false;}if(B==="addthis"&&I==="welcome"){j.welcomeBarAndMobile.alreadyCompleted=false;}}else{j.active_layers={};e.addthis.layers.active_layers={};k.initialized=false;j.initialized=false;j.welcomeBarAndMobile.alreadyCompleted=false;}return this;}};publicMethods=n.publicApi(s);if(p.pii===true&&j.receivedConfigFromServer){n.each(j.pageConfigs,function(w,x){n.each(x,function(y,A){var z=j.layerList.addthis;if(z[y]&&z[y].inlineClass){t[y]=A;j.pageConfigs.splice(w,1);}});});if(n.keys(t)>0){t=n.extend(t,{pi:true});addthis.layers(t);}return;}else{if(_ate.ipc&&!p.pi){if(p.cfs||n.isFunction(v)&&v.cfs===true){if(p._default&&p._default.widgets){var q={};n.each(p._default.widgets,function(x,z){_ate.track.apc(x);var y=j.pcoMap[x];if(y){if(q[y]){if(!n.isArray(q[y])){var w=q[y];q[y]=[];q[y].push(w);}q[y].push(z);}else{q[y]=z;}}});q.pi=true;addthis.layers(q,v);}else{_ate.ipc=false;var r=j.pageConfigs;n.each(r,function(x,w){addthis.layers(w);});j.pageConfigs=[];}j.receivedConfigFromServer=true;}else{j.pageConfigs.push(p);}return;}}if(n.isFunction(p)){p.call(publicMethods,publicMethods);return;}p=n.isPlainObject(p)&&!n.isEmptyObject(p)?p:{};s._init(p,function(A,w){var z=w.length,y=0,x=0;if(z===0){if(n.isFunction(v)){v.call(publicMethods,publicMethods);}n.trigger("addthis.layers.loaded");n.trigger("addthis.layers.rendered");}else{_ate.ed.addEventListener("addthis.layer.loaded",function(B){x+=1;if(x===z){n.trigger("addthis.layers.loaded");}});_ate.ed.addEventListener("addthis.layer.rendered",function(B){y+=1;if(y===z){if(n.isFunction(v)){v.call(publicMethods,publicMethods);}n.trigger("addthis.layers.rendered");}});k.initialized=true;k.onpage=true;}return publicMethods;});};}(g.qwery,g.utils,g.common,g.layerFactory,g.setup);g.load=function(d,k,b){var j=b;_adr.append(function(){h=document;a=h.body;if((!e.JSON||!e.JSON.stringify)&&!j.onpage){var l=new _ate.resource.Resource("json2",_atr+"static/r07/json2.js");l.load();}if(c){c.user.ready(function(){c.user.getPreferredServices(function(m){d.preferredServices=function(){var q=[],p;k.each(m,function(r,s){p=s;if(_ate.services.exists(p)){q.push(p);}});q.push("compact");return q;}();if(!j.onpage){var n=new _ate.resource.Resource("layerscss",_atc.rsrcs.layerscss);n.load();k.isCSSReady(function(){addthis.layers=j;k.trigger("addthis.layers.ready",c,{pco:d.pco});});}else{addthis.layers=j;k.trigger("addthis.layers.ready",c,{pco:d.pco});}});c.bar={pco:"wmb-1.0",initialize:function(p,r){var n=c.layers.active_layers&&c.layers.active_layers.addthis&&c.layers.active_layers.addthis.welcome,m,q;if(n){if(!p||k.isString(p)){_ate.ed.fire("addthis.welcome.show",{},{});}else{addthis.layers(function(s){m=n.options;q=_ate.util.extend(m,p);if(p==="render"||r==="render"){n.updateExisting(q);}else{s.destroy("welcome");addthis.layers({welcome:q,pi:true});}});}}else{addthis.layers({welcome:p,pi:true});}},show:function(m){c.bar.initialize(m,"render");},render:function(m){c.bar.initialize(m,"render");},hide:function(){_ate.ed.fire("addthis.welcome.hide",{},{});}};_ate.ed.fire("addthis.bar.ready",c,{pco:addthis.bar.pco});});addthis.layers.ost=1;}});}(g.common,g.utils,g.api);}(window,addthis,_ate.util));